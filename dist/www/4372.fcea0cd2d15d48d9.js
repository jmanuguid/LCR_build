"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4372],{4372:(G,$,v)=>{v.d($,{W:()=>Y});var b=v(655),d=v(5457),L=v(860),E=v(3905),A=v(3470),n=v(3518),P=v(4893),S=v(9808),N=v(118),R=v(520),I=v(1110);let Y=(()=>{class O{constructor(o,D,u,x){this.decimalPipe=o,this.customDatePipe=D,this.httpClient=u,this.middleNamePipe=x}generateCcrFormNo2A(o,D){var u,x,f,m,c,h,y,r,a,l,g,T,i,t;return(0,b.mG)(this,void 0,void 0,function*(){const s=o,p=Object.assign(Object.assign({},s),{suffix:null!==(u=n.$.getDisplayValue(n.$.suffixOptions,s.suffix))&&void 0!==u?u:s.suffix,sex:null!==(x=n.$.getDisplayValue(n.$.sexOptions,s.sex))&&void 0!==x?x:s.sex,civilStatus:null!==(f=n.$.getDisplayValue(n.$.civilStatusOptions,s.civilStatus))&&void 0!==f?f:s.civilStatus,medicalAttendantTitle:null!==(m=n.$.getDisplayValue(n.$.deathMedicalAttendantTitleOptions,s.medicalAttendantTitle))&&void 0!==m?m:s.medicalAttendantTitle,corpseDisposal:null!==(c=n.$.getDisplayValue(n.$.corpseDisposalOptions,s.corpseDisposal))&&void 0!==c?c:s.corpseDisposal,autopsy:null!==(h=n.$.getDisplayValue(n.$.autopsyOptions,s.autopsy))&&void 0!==h?h:s.autopsy}),C=null===(y=null==o?void 0:o.showPreview)||void 0===y||y;if(C){const z="assets/docs/ccr-form-no-2a.pdf",j=yield this.getPdfArrayBufferByFileUrl(z);var _=yield d.PDFDocument.load(j)}else _=yield d.PDFDocument.create();const e=new L.L(_,{dimension:{width:610,height:792},margin:{top:.5,left:1,bottom:.5,right:.75,unit:"in"}},{httpClient:this.httpClient});C?e.setPage(0):e.addPage().setPage(0);const B=yield e.embedFont(d.StandardFonts.Helvetica),U=yield e.embedFont(d.StandardFonts.HelveticaBold),M=yield e.embedFont(d.StandardFonts.TimesRomanBold),V=yield e.embedFont(d.StandardFonts.TimesRoman),H=yield e.embedFont(d.StandardFonts.TimesRomanItalic);yield e.embedPng("assets/binan-city-logo.png",{width:72,height:72,x:e.ms+30,y:e.h-e.mt-75}),e.setFont(V).setCursorY(44).setLineHeight(1).setFontSize(11).setAlignment(d.TextAlignment.Center).addText("Republic of the Philippines",{}),e.newline().setFont(V).setFontSize(11).setLineHeight(1.5).setAlignment(d.TextAlignment.Center).addText("Province of Laguna"),e.newline().setFont(M).setFontSize(18).setLineHeight(1).setAlignment(d.TextAlignment.Center).addText("CITY OF BI\xd1AN"),e.newline().setFont(M).setFontSize(12).setLineHeight(1.3).setAlignment(d.TextAlignment.Center).addText("OFFICE OF THE CITY CIVIL REGISTRAR"),yield e.embedPng("assets/tqcsi-logo.png",{width:56,height:71.70677290836652,x:e.w-e.me-110,y:e.h-e.mt-75}),e.setAlignment(d.TextAlignment.Left).setCursorY(130).setFont(M).setFontSize(11).setLineHeight(1.15).addText("CCR FORM No. 2A"),e.newline().setFont(H).addText("\t(Death-Available)").setLineHeight(2.5).newline().setLineHeight(1.15),e.setAlignment(d.TextAlignment.Right).setFont(V).addText(null!==(r=this.customDatePipe.transform(new Date,"MMMM d, yyyy"))&&void 0!==r?r:"NOT AVAILABLE").newline(),e.setAlignment(d.TextAlignment.Left).addText("TO WHOM IT MAY CONCERN:").setLineHeight(1.5).newline().setLineHeight(1.6),e.addText(`\t\t\tWe certify that, among others, the following facts of death appear in our Register of Deaths on page ${o.pageNumber} of book number ${o.bookNumber}`).setLineHeight(2.2).newline(),e.setLineHeight(1.525);const F=.42*e.w;e.setFont(V).addText("\t\tRCCR Registry Number").addText(":",{x:.4*e.w,textTransform:"uppercase"}).addText(o.registrationNumber,{x:F,textTransform:"uppercase"}),e.newline().addText("\t\tDate of registration").addText(":",{x:.4*e.w,textTransform:"uppercase"}).addText((null!==(a=this.customDatePipe.transform(p.registrationDate,"MMMM d, yyyy"))&&void 0!==a?a:"NOT AVAILABLE").toUpperCase(),{x:F,textTransform:"uppercase"}),e.newline().addText("\t\tName").addText(":",{x:.4*e.w,textTransform:"uppercase"}).addText(`${p.firstName} ${this.middleNamePipe.transform(p.middleName)} ${p.lastName}`,{x:F,textTransform:"uppercase"}),e.newline().addText("\t\tDate of Death").addText(":",{x:.4*e.w,textTransform:"uppercase"}).addText((null!==(l=this.customDatePipe.transform(p.date,"MMMM d, yyyy"))&&void 0!==l?l:"NOT AVAILABLE").toUpperCase(),{x:F,textTransform:"uppercase"}),e.newline().addText("\t\tPlace of Death").addText(":",{x:.4*e.w,textTransform:"uppercase"}).addText(p.place,{x:F,textTransform:"uppercase"}),e.newline().addText("\t\tDate of birth").addText(":",{x:.4*e.w,textTransform:"uppercase"}).addText((null!==(g=this.customDatePipe.transform(p.birthday,"MMMM d, yyyy"))&&void 0!==g?g:"NOT AVAILABLE").toUpperCase(),{x:F,textTransform:"uppercase"}),e.newline().addText("\t\tAge").addText(":",{x:.4*e.w,textTransform:"uppercase"}).addText(`${null!==(T=p.age)&&void 0!==T?T:"NOT AVAILABLE"}`,{x:F,textTransform:"uppercase"}),e.newline().addText("\t\tSex").addText(":",{x:.4*e.w,textTransform:"uppercase"}).addText(p.sex,{x:F,textTransform:"uppercase"}),e.newline().addText("\t\tOccupation or Profession"),e.addText(":",{x:.4*e.w,textTransform:"uppercase"}).addText(p.occupation,{x:F,textTransform:"uppercase"}),e.newline().addText("\t\tUsual Place of Residence").addText(":",{x:.4*e.w,textTransform:"uppercase"}).addText(p.address,{x:F,textTransform:"uppercase"}),e.newline().addText("\t\tCivil Status").addText(":",{x:.4*e.w,textTransform:"uppercase"}).addText(p.civilStatus,{x:F,textTransform:"uppercase"}),e.newline().addText("\t\tCitizenship").addText(":",{x:.4*e.w,textTransform:"uppercase"}).addText(p.nationality,{x:F,textTransform:"uppercase"}),e.newline().addText("\t\tProbable cause of Death").addText(":",{x:.4*e.w,textTransform:"uppercase"}).addText(p.primaryCauseOfDeath,{x:F,textTransform:"uppercase",maxWidth:300,maxY:e.cursorY+60}).setLineHeight(1.52).newline().setLineHeight(1),e.addText("Remarks:").setLineHeight(1.5).newline().setLineHeight(1.5),e.setFont(B).setFontSize(9).addText(null!==(i=p.remarks)&&void 0!==i?i:"NOT AVAILABLE",{maxY:645}).setLineHeight(2).newline(),e.setFontSize(11).setLineHeight(1.5).addText(`\t\t\tThis certification is issued to ${null!==(t=o.personWhoRequest)&&void 0!==t?t:"NOT AVAILABLE"} upon his/her request.`,{maxY:e.cursorY+28}).setLineHeight(2).newline().setLineHeight(1.5),e.setFontSize(10).setFont(V).addText("Verified by").addText(":",{x:140}),e.addText(o.verifier||"NOT AVAILABLE",{x:150});const w=this.decimalPipe.transform(o.amountPaid,"1.2-2"),W=w?"PHP "+w:"NOT AVAILABLE";return e.newline().addText("Amount paid").addText(":",{x:140}),e.addText(W||"NOT AVAILABLE",{x:150}),e.newline().addText("OR number").addText(":",{x:140}),e.addText(o.orNumber||"NOT AVAILABLE",{x:150}),e.setAlignment(d.TextAlignment.Center).setFont(U).setFontSize(11).addText("Tomas Ignacio C. Manabat",{x:.9*e.contentWidth}),e.setFontSize(10).newline().setFont(B).setFontSize(10).setAlignment(d.TextAlignment.Left).addText("Date paid").addText(":",{x:140}),e.addText(this.customDatePipe.transform(o.datePaid,"MMMM d, yyyy")||"NOT AVAILABLE",{x:150}),e.setFont(V).setAlignment(d.TextAlignment.Center).addText("City Civil Registrar",{x:.9*e.contentWidth}),e.newline().setFont(V).setAlignment(d.TextAlignment.Center).setCursorY(e.h-e.mb-e.fs).addText("Note: A mark erasure or alteration of any entry invalidates this certification"),e.getURL()})}generateMunicipalFormNo103A(o,D,u=!0){var x,f,m,c,h,y,r;return(0,b.mG)(this,void 0,void 0,function*(){const a=o,l=Object.assign(Object.assign({},a),{suffix:null!==(x=n.$.getDisplayValue(n.$.suffixOptions,a.suffix))&&void 0!==x?x:a.suffix,sex:null!==(f=n.$.getDisplayValue(n.$.sexOptions,a.sex))&&void 0!==f?f:a.sex,civilStatus:null!==(m=n.$.getDisplayValue(n.$.civilStatusOptions,a.civilStatus))&&void 0!==m?m:a.civilStatus,medicalAttendantTitle:null!==(c=n.$.getDisplayValue(n.$.deathMedicalAttendantTitleOptions,a.medicalAttendantTitle))&&void 0!==c?c:a.medicalAttendantTitle,corpseDisposal:null!==(h=n.$.getDisplayValue(n.$.corpseDisposalOptions,a.corpseDisposal))&&void 0!==h?h:a.corpseDisposal,autopsy:null!==(y=n.$.getDisplayValue(n.$.autopsyOptions,a.autopsy))&&void 0!==y?y:a.autopsy}),g=u?"municipal-form-no-103-a-[acrobat].pdf":"municipal-form-no-103-a-[acrobat-clean].pdf",T=yield this.getPdfArrayBufferByFileUrl(`assets/docs/${g}`),i=yield d.PDFDocument.load(T),t=new L.L(i,{dimension:{width:612,height:1005},margin:{top:0,left:0,bottom:0,right:0,unit:"px"}},{httpClient:this.httpClient}),s={textTransform:"uppercase"};t.setTextFieldValue("province","Laguna",s),t.setTextFieldValue("city-or-municipality","Bi\xf1an",s),t.setTextFieldValue("registration-number",l.registrationNumber,s),t.setTextFieldValue("1-first-name",l.firstName,s),t.setTextFieldValue("1-middle-name",l.middleName,s),t.setTextFieldValue("1-last-name",l.lastName,s),t.setTextFieldValue("2-sex",l.sex,s),t.setTextFieldValue("3-date-of-delivery-day",A.O.convertDateToString(l.date,"DD"),s),t.setTextFieldValue("3-date-of-delivery-month",A.O.convertDateToString(l.date,"MMMM"),s),t.setTextFieldValue("3-date-of-delivery-year",A.O.convertDateToString(l.date,"YYYY"),s),t.setTextFieldValue("4-place-of-delivery-1",l.placeOfOccurence,s),t.setTextFieldValue("19-main-disease-or-condition",l.primaryCauseOfDeath,s),t.setTextFieldValue("19-other-disease-or-condition",l.contributoryCauseOfDeath,s),t.setTextFieldValue("19-other-relevant-circumstances",l.nonNaturalCauseOfDeath,s),t.setCheckBoxValue("20-before-labor",!1),t.setCheckBoxValue("20-during-labor",!1),t.setCheckBoxValue("20-unknown",!1),t.setTextFieldValue("22a-attendant",l.medicalAttendantTitle,s),t.setCheckBoxValue("22b-attended",!1),t.setCheckBoxValue("22b-not-attended",!1),t.setTextFieldValue("22b-death-time",A.O.convertTimeString(l.time),s),t.setTextFieldValue("22b-name",l.medicalAttendantName,s),t.setTextFieldValue("22b-position",l.medicalAttendantTitle,s),t.setTextFieldValue("22b-address",l.medicalAttendantAddress,s),t.setTextFieldValue("23-corpse-disposal",l.corpseDisposal,s),t.setTextFieldValue("24-burial-permit-number",l.permitNumber,s),t.setTextFieldValue("24-burial-cremation-permit-date",A.O.convertDateToString(l.permitCertificateIssuanceDate,"MMMM DD, YYYY"),s),t.setTextFieldValue("25-autopsy-yes-or-no",l.autopsy,s);const p=yield t.embedFont(d.StandardFonts.Helvetica);t.setPage(0).setFont(p),t.setCursorY(884).addText(null!==(r=l.remarks)&&void 0!==r?r:"",{x:57.5,maxWidth:520,maxY:898});const C=yield i.save(),_=new Blob([C],{type:"application/pdf"});return URL.createObjectURL(_)})}generateCleanMunicipalFormNo103A(o,D){var u;return(0,b.mG)(this,void 0,void 0,function*(){const f=yield this.getPdfArrayBufferByFileUrl("assets/docs/municipal-form-no-103-a-[acrobat-clean].pdf"),m=yield d.PDFDocument.load(f),c=new L.L(m,{dimension:{width:612,height:1005},margin:{top:0,left:0,bottom:0,right:0,unit:"px"}},{httpClient:this.httpClient}),h={textTransform:"uppercase"};Object.keys(o).forEach(g=>{const T=o[g];"boolean"==typeof T?c.setCheckBoxValue(g,T):c.setTextFieldValue(g,T,h)});const y=yield c.embedFont(d.StandardFonts.Helvetica);c.setPage(0).setFont(y),c.setCursorY(884).addText(null!==(u=D.remarks)&&void 0!==u?u:"",{x:57.5,maxWidth:520,maxY:898});const r=yield m.save(),a=new Blob([r],{type:"application/pdf"});return URL.createObjectURL(a)})}generateMunicipalFormNo103(o,D){var u,x,f,m,c,h,y;return(0,b.mG)(this,void 0,void 0,function*(){const r=o,a=Object.assign(Object.assign({},r),{suffix:null!==(u=n.$.getDisplayValue(n.$.suffixOptions,r.suffix))&&void 0!==u?u:r.suffix,sex:null!==(x=n.$.getDisplayValue(n.$.sexOptions,r.sex))&&void 0!==x?x:r.sex,civilStatus:null!==(f=n.$.getDisplayValue(n.$.civilStatusOptions,r.civilStatus))&&void 0!==f?f:r.civilStatus,medicalAttendantTitle:null!==(m=n.$.getDisplayValue(n.$.deathMedicalAttendantTitleOptions,r.medicalAttendantTitle))&&void 0!==m?m:r.medicalAttendantTitle,corpseDisposal:null!==(c=n.$.getDisplayValue(n.$.corpseDisposalOptions,r.corpseDisposal))&&void 0!==c?c:r.corpseDisposal,autopsy:null!==(h=n.$.getDisplayValue(n.$.autopsyOptions,r.autopsy))&&void 0!==h?h:r.autopsy}),g=yield this.getPdfArrayBufferByFileUrl("assets/docs/municipal-form-no-103-[acrobat].pdf"),T=yield d.PDFDocument.load(g),i=new L.L(T,{dimension:{width:612,height:1005},margin:{top:0,left:0,bottom:0,right:0,unit:"px"}},{httpClient:this.httpClient}),t={textTransform:"uppercase"};i.setTextFieldValue("province","Laguna",t),i.setTextFieldValue("city-or-municipality","Bi\xf1an",t),i.setTextFieldValue("registration-number",a.registrationNumber,t),i.setTextFieldValue("1-first-name",a.firstName,t),i.setTextFieldValue("1-middle-name",a.middleName,t),i.setTextFieldValue("1-last-name",a.lastName,t),i.setTextFieldValue("2-sex",a.sex,t),i.setTextFieldValue("3-date-of-death",A.O.convertDateToString(a.date,"DD MMMM, YYYY"),t),i.setTextFieldValue("4-date-of-birth",A.O.convertDateToString(a.birthday,"DD MMMM, YYYY"),t);const s=A.O.calculageAge(a.birthday,a.date);switch(s&&(i.setTextFieldValue("5a-age-years",s.years>0?s.years.toString():"",t),i.setTextFieldValue("5b-age-months",s.months>0?s.months.toString():"",t),i.setTextFieldValue("5b-age-days",s.days>0?s.days.toString():"",t)),i.setTextFieldValue("6-place-of-death",a.place,t),i.setTextFieldValue("7-civil-status",a.civilStatus,t),i.setTextFieldValue("8-religion",a.religion,t),i.setTextFieldValue("9-citizensship",a.nationality,t),i.setTextFieldValue("10-residence",a.address,t),i.setTextFieldValue("11-occupation",a.occupation,t),s&&0==s.years&&0==s.months&&s.days<=7?(i.setTextFieldValue("19a-main-disease-or-condition",a.primaryCauseOfDeath,t),i.setTextFieldValue("19a-other-disease-or-condition",a.contributoryCauseOfDeath,t),i.setTextFieldValue("19a-other-relevant-circumstances",a.nonNaturalCauseOfDeath,t)):(i.setTextFieldValue("19b-immediate-cause",a.primaryCauseOfDeath,t),i.setTextFieldValue("19b-underlying-cause",a.contributoryCauseOfDeath,t),i.setTextFieldValue("19b-other-significant-cause",a.nonNaturalCauseOfDeath,t),i.setCheckBoxValue("19c-pregnant-not-in-labor",!1),i.setCheckBoxValue("19c-pregnant-in-labor",!1),i.setCheckBoxValue("19c-less-than-42-days-after-delivery",!1),i.setCheckBoxValue("19c-42-days-to-1-year-after-delivery",!1),i.setCheckBoxValue("19c-none-of-the-choices",!1),i.setTextFieldValue("19d-manner-of-death",a.nonNaturalCauseOfDeath,t),i.setTextFieldValue("19d-place-of-occurence",a.placeOfOccurence,t)),i.setTextFieldValue("20-autopsy-yes-or-no",a.autopsy,t),a.medicalAttendantTitle){case n.$.deathMedicalAttendantTitleOptions[0].display:i.setCheckBoxValue("21a-attendant-title-private-phyisician",!0);break;case n.$.deathMedicalAttendantTitleOptions[1].display:i.setCheckBoxValue("21a-attendant-title-public-health-officer",!0);break;case n.$.deathMedicalAttendantTitleOptions[2].display:i.setCheckBoxValue("21a-attendant-title-hospital-authority",!0);break;case n.$.deathMedicalAttendantTitleOptions[3].display:i.setCheckBoxValue("21a-attendant-title-none",!0);break;default:a.medicalAttendantTitle&&i.setTextFieldValue("21a-attendant-title",a.medicalAttendantTitle,t)}i.setCheckBoxValue("22-attended",!1),i.setCheckBoxValue("22-not-attended",!1),i.setTextFieldValue("22-name",a.medicalAttendantName,t),i.setTextFieldValue("22-position",a.medicalAttendantTitle,t),i.setTextFieldValue("22-address",a.medicalAttendantAddress,t),i.setTextFieldValue("23-corpse-disposal",a.corpseDisposal,t),i.setTextFieldValue("24a-burial-or-cremation-permit-number",a.permitNumber,t),i.setTextFieldValue("24a-burial-or-cremation-permit-date",a.permitCertificateIssuanceDate,t);const p=yield i.embedFont(d.StandardFonts.Helvetica);i.setPage(0).setFont(p),i.setCursorY(875).addText(null!==(y=a.remarks)&&void 0!==y?y:"",{x:58,maxWidth:515,maxY:915});const C=yield T.save(),_=new Blob([C],{type:"application/pdf"});return URL.createObjectURL(_)})}generateCleanMunicipalFormNo103(o,D){var u;return(0,b.mG)(this,void 0,void 0,function*(){const f=yield this.getPdfArrayBufferByFileUrl("assets/docs/municipal-form-no-103-[acrobat-clean].pdf"),m=yield d.PDFDocument.load(f),c=new L.L(m,{dimension:{width:612,height:1005},margin:{top:0,left:0,bottom:0,right:0,unit:"px"}},{httpClient:this.httpClient}),h={textTransform:"uppercase"};Object.keys(o).forEach(g=>{const T=o[g];"boolean"==typeof T?c.setCheckBoxValue(g,T):c.setTextFieldValue(g,T,h)});const y=yield c.embedFont(d.StandardFonts.Helvetica);c.setPage(0).setFont(y),c.setCursorY(875).addText(null!==(u=D.remarks)&&void 0!==u?u:"",{x:58,maxWidth:515,maxY:915});const r=yield m.save(),a=new Blob([r],{type:"application/pdf"});return URL.createObjectURL(a)})}getPdfArrayBufferByFileUrl(o){return(0,b.mG)(this,void 0,void 0,function*(){const D=this.httpClient.get(o,{responseType:"arraybuffer"});return yield(0,E.z)(D)})}}return O.\u0275fac=function(o){return new(o||O)(P.LFG(S.JJ),P.LFG(N.F),P.LFG(R.eN),P.LFG(I.V))},O.\u0275prov=P.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()}}]);