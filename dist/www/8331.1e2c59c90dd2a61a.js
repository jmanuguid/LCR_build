"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8331],{8331:(Dt,$,r)=>{r.r($),r.d($,{EditDeathPageModule:()=>Ct});var h=r(9808),s=r(2382),X=r(8058),c=r(7614),W=r(655),ot=r(3518),it=r(2340),m=r(7391),t=r(4893),at=r(4465),nt=r(8876),lt=r(5219),tt=r(7203),rt=r(2334);function st(o,l){if(1&o&&(t.TgZ(0,"option",111),t._uU(1),t.qZA()),2&o){const e=l.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.display)}}function dt(o,l){1&o&&(t.TgZ(0,"div",112)(1,"label",113),t._uU(2,"Specify other suffix"),t.qZA(),t._UZ(3,"input",114),t.TgZ(4,"div",19),t._uU(5,"This field is required"),t.qZA()())}function ut(o,l){if(1&o&&(t.TgZ(0,"option",111),t._uU(1),t.qZA()),2&o){const e=l.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.display)}}function ct(o,l){1&o&&(t.TgZ(0,"div",112)(1,"label",115),t._uU(2,"Specify other sex"),t.qZA(),t._UZ(3,"input",116),t.TgZ(4,"div",19),t._uU(5,"This field is required"),t.qZA()())}function mt(o,l){if(1&o&&(t.TgZ(0,"option",111),t._uU(1),t.qZA()),2&o){const e=l.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.display)}}function ft(o,l){1&o&&(t.TgZ(0,"div",112)(1,"label",117),t._uU(2,"Specify other civil status"),t.qZA(),t._UZ(3,"input",118),t.TgZ(4,"div",19),t._uU(5,"This field is required"),t.qZA()())}function pt(o,l){1&o&&(t.TgZ(0,"div",65)(1,"label",119),t._uU(2,"Occupation"),t.qZA(),t._UZ(3,"input",120),t.TgZ(4,"div",19),t._uU(5,"This field is required"),t.qZA()())}function gt(o,l){1&o&&(t.TgZ(0,"div",65)(1,"label",121),t._uU(2,"Company name or address"),t.qZA(),t._UZ(3,"textarea",122),t.TgZ(4,"div",19),t._uU(5,"This field is required"),t.qZA()())}function ht(o,l){1&o&&(t.TgZ(0,"div",65)(1,"label",123),t._uU(2,"Name of surviving spouse"),t.qZA(),t._UZ(3,"input",124),t.TgZ(4,"div",19),t._uU(5,"This field is required"),t.qZA()())}function _t(o,l){1&o&&(t.TgZ(0,"div",65)(1,"label",125),t._uU(2,"Surviving spouse address"),t.qZA(),t._UZ(3,"textarea",126),t.TgZ(4,"div",19),t._uU(5,"This field is required"),t.qZA()())}function bt(o,l){if(1&o&&(t.TgZ(0,"option",111),t._uU(1),t.qZA()),2&o){const e=l.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.display)}}function vt(o,l){1&o&&(t.TgZ(0,"div",112)(1,"label",127),t._uU(2,"Specify other title"),t.qZA(),t._UZ(3,"input",128),t.TgZ(4,"div",19),t._uU(5,"This field is required"),t.qZA()())}function Zt(o,l){if(1&o&&(t.TgZ(0,"option",111),t._uU(1),t.qZA()),2&o){const e=l.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.display)}}function xt(o,l){1&o&&(t.TgZ(0,"div",112)(1,"label",129),t._uU(2,"Specify other corpse disposal"),t.qZA(),t._UZ(3,"input",130),t.TgZ(4,"div",19),t._uU(5,"This field is required"),t.qZA()())}function Tt(o,l){if(1&o&&(t.TgZ(0,"option",111),t._uU(1),t.qZA()),2&o){const e=l.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.display)}}function At(o,l){1&o&&(t.TgZ(0,"div",112)(1,"label",131),t._uU(2,"Specify other autopsy"),t.qZA(),t._UZ(3,"input",132),t.TgZ(4,"div",19),t._uU(5,"This field is required"),t.qZA()())}function Nt(o,l){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",31)(2,"div",13)(3,"div",32)(4,"label",33),t._uU(5,"Book number"),t.qZA(),t._UZ(6,"input",34),t.TgZ(7,"div",19),t._uU(8,"This field is required"),t.qZA()(),t.TgZ(9,"div",32)(10,"label",35),t._uU(11,"Page number"),t.qZA(),t._UZ(12,"input",36),t.TgZ(13,"div",19),t._uU(14,"This field is required"),t.qZA()(),t.TgZ(15,"div",32)(16,"label",37),t._uU(17,"Registration number"),t.qZA(),t._UZ(18,"input",38),t.TgZ(19,"div",19),t._uU(20,"This field is required"),t.qZA()(),t.TgZ(21,"div",39)(22,"label",40)(23,"span"),t._uU(24,"Registration date"),t.qZA(),t.TgZ(25,"a",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggleRegistrationDate=!a.toggleRegistrationDate)}),t.TgZ(26,"span",42),t._uU(27),t.qZA()()(),t._UZ(28,"input",43),t.TgZ(29,"div",19),t._uU(30,"This field is required"),t.qZA()()()(),t.TgZ(31,"div",44)(32,"h4",12),t._uU(33,"Personal information"),t.qZA(),t.TgZ(34,"div",13)(35,"div",14)(36,"label",45),t._uU(37,"First name"),t.qZA(),t._UZ(38,"input",46),t.TgZ(39,"div",19),t._uU(40,"This field is required"),t.qZA()(),t.TgZ(41,"div",14)(42,"label",47),t._uU(43,"Middle name"),t.qZA(),t._UZ(44,"input",48),t.TgZ(45,"div",19),t._uU(46,"This field is required"),t.qZA()(),t.TgZ(47,"div",14)(48,"label",49),t._uU(49,"Last name"),t.qZA(),t._UZ(50,"input",50),t.TgZ(51,"div",19),t._uU(52,"This field is required"),t.qZA()(),t.TgZ(53,"div")(54,"label",51),t._uU(55,"Suffix"),t.qZA(),t.TgZ(56,"select",52),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onSelectChange(a.deathForm.controls.suffix,a.deathForm.controls.customSuffix))}),t.TgZ(57,"option",53),t._uU(58,"Not Available"),t.qZA(),t.YNc(59,st,2,2,"option",54),t.TgZ(60,"option",55),t._uU(61,"Others"),t.qZA()(),t.TgZ(62,"div",19),t._uU(63,"This field is required"),t.qZA()(),t.YNc(64,dt,6,0,"div",56),t.TgZ(65,"div",14)(66,"label",57)(67,"span"),t._uU(68,"Date of birth"),t.qZA(),t.TgZ(69,"a",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggleBirthday=!a.toggleBirthday)}),t.TgZ(70,"span",42),t._uU(71),t.qZA()()(),t._UZ(72,"input",58),t.TgZ(73,"div",19),t._uU(74,"This field is required"),t.qZA()(),t.TgZ(75,"div")(76,"label",59),t._uU(77,"Sex"),t.qZA(),t.TgZ(78,"select",60),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onSelectChange(a.deathForm.controls.sex,a.deathForm.controls.customSex))}),t.TgZ(79,"option",16),t._uU(80,"Choose..."),t.qZA(),t.YNc(81,ut,2,2,"option",54),t.TgZ(82,"option",55),t._uU(83,"Others"),t.qZA()(),t.TgZ(84,"div",19),t._uU(85,"This field is required"),t.qZA()(),t.YNc(86,ct,6,0,"div",56),t.TgZ(87,"div")(88,"label",61),t._uU(89,"Civil status"),t.qZA(),t.TgZ(90,"select",62),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onSelectChange(a.deathForm.controls.civilStatus,a.deathForm.controls.customCivilStatus))}),t.TgZ(91,"option",16),t._uU(92,"Choose.."),t.qZA(),t.YNc(93,mt,2,2,"option",54),t.TgZ(94,"option",55),t._uU(95,"Others"),t.qZA()(),t.TgZ(96,"div",19),t._uU(97,"This field is required"),t.qZA()(),t.YNc(98,ft,6,0,"div",56),t.TgZ(99,"div",14)(100,"label",63),t._uU(101,"Nationality"),t.qZA(),t._UZ(102,"input",64),t.TgZ(103,"div",19),t._uU(104,"This field is required"),t.qZA()(),t.TgZ(105,"div",65)(106,"label",66),t._uU(107,"Religion"),t.qZA(),t._UZ(108,"input",67),t.TgZ(109,"div",19),t._uU(110,"This field is required"),t.qZA()(),t.TgZ(111,"div",65)(112,"label",68),t._uU(113,"Address"),t.qZA(),t._UZ(114,"textarea",69),t.TgZ(115,"div",19),t._uU(116,"This field is required"),t.qZA()(),t.YNc(117,pt,6,0,"div",70),t.YNc(118,gt,6,0,"div",70),t.YNc(119,ht,6,0,"div",70),t.YNc(120,_t,6,0,"div",70),t.qZA()(),t.TgZ(121,"div",44)(122,"div",13)(123,"h4",71),t._uU(124,"Death information"),t.qZA(),t.TgZ(125,"div",14)(126,"label",72)(127,"span"),t._uU(128,"Date of death"),t.qZA(),t.TgZ(129,"a",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggleDate=!a.toggleDate)}),t.TgZ(130,"span",42),t._uU(131),t.qZA()()(),t._UZ(132,"input",73),t.TgZ(133,"div",19),t._uU(134,"This field is required"),t.qZA()(),t.TgZ(135,"div",14)(136,"label",74),t._uU(137,"Time of death"),t.qZA(),t._UZ(138,"input",75),t.TgZ(139,"div",19),t._uU(140,"This field is required"),t.qZA()(),t.TgZ(141,"div",65)(142,"label",76),t._uU(143,"Place of death"),t.qZA(),t._UZ(144,"input",77),t.TgZ(145,"div",19),t._uU(146,"This field is required"),t.qZA()(),t.TgZ(147,"div",14)(148,"label",78),t._uU(149,"Cause of death (primary)"),t.qZA(),t._UZ(150,"input",79),t.TgZ(151,"div",19),t._uU(152,"This field is required"),t.qZA()(),t.TgZ(153,"div",14)(154,"label",80),t._uU(155,"Cause of death (contributory)"),t.qZA(),t._UZ(156,"input",81),t.TgZ(157,"div",19),t._uU(158,"This field is required"),t.qZA()(),t.TgZ(159,"div",14)(160,"label",82),t._uU(161,"Death by non-natural causes"),t.qZA(),t._UZ(162,"input",83),t.TgZ(163,"div",19),t._uU(164,"This field is required"),t.qZA()(),t.TgZ(165,"div",14)(166,"label",84),t._uU(167,"Place of occurence"),t.qZA(),t._UZ(168,"input",85),t.TgZ(169,"div",19),t._uU(170,"This field is required"),t.qZA()()(),t.TgZ(171,"h5",86),t._uU(172,"Medical attendant"),t.qZA(),t.TgZ(173,"div",13)(174,"div",14)(175,"label",87),t._uU(176,"Name"),t.qZA(),t._UZ(177,"input",88),t.TgZ(178,"div",19),t._uU(179,"This field is required"),t.qZA()(),t.TgZ(180,"div")(181,"label",89),t._uU(182,"Title"),t.qZA(),t.TgZ(183,"select",90),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onSelectChange(a.deathForm.controls.medicalAttendantTitle,a.deathForm.controls.customMedicalAttendantTitle))}),t.TgZ(184,"option",16),t._uU(185,"Choose..."),t.qZA(),t.YNc(186,bt,2,2,"option",54),t.TgZ(187,"option",55),t._uU(188,"Others"),t.qZA()(),t.TgZ(189,"div",19),t._uU(190,"This field is required"),t.qZA()(),t.YNc(191,vt,6,0,"div",56),t.TgZ(192,"div",65)(193,"label",91),t._uU(194,"Address"),t.qZA(),t._UZ(195,"textarea",92),t.TgZ(196,"div",19),t._uU(197,"This field is required"),t.qZA()()()(),t.TgZ(198,"div",44)(199,"h4",12),t._uU(200,"Permit's information"),t.qZA(),t.TgZ(201,"div",13)(202,"div")(203,"label",93),t._uU(204,"Corpse disposal"),t.qZA(),t.TgZ(205,"select",94),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onSelectChange(a.deathForm.controls.corpseDisposal,a.deathForm.controls.customCorpseDisposal))}),t.TgZ(206,"option",16),t._uU(207,"Choose.."),t.qZA(),t.YNc(208,Zt,2,2,"option",54),t.TgZ(209,"option",55),t._uU(210,"Others"),t.qZA()(),t.TgZ(211,"div",19),t._uU(212,"This field is required"),t.qZA()(),t.YNc(213,xt,6,0,"div",56),t.TgZ(214,"div")(215,"label",95),t._uU(216,"Autopsy"),t.qZA(),t.TgZ(217,"select",96),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onSelectChange(a.deathForm.controls.autopsy,a.deathForm.controls.customAutopsy))}),t.TgZ(218,"option",16),t._uU(219,"Choose.."),t.qZA(),t.YNc(220,Tt,2,2,"option",54),t.TgZ(221,"option",55),t._uU(222,"Others"),t.qZA()(),t.TgZ(223,"div",19),t._uU(224,"This field is required"),t.qZA()(),t.YNc(225,At,6,0,"div",56),t.TgZ(226,"div",14)(227,"label",97)(228,"span"),t._uU(229,"Date of issuance of certificate"),t.qZA(),t.TgZ(230,"a",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggleDateIssued=!a.toggleDateIssued)}),t.TgZ(231,"span",42),t._uU(232),t.qZA()()(),t._UZ(233,"input",98),t.TgZ(234,"div",19),t._uU(235,"This field is required"),t.qZA()(),t.TgZ(236,"div",14)(237,"label",99),t._uU(238,"Permit number"),t.qZA(),t._UZ(239,"input",100),t.TgZ(240,"div",19),t._uU(241,"This field is required"),t.qZA()(),t.TgZ(242,"div",65)(243,"label",101),t._uU(244,"Place of burial"),t.qZA(),t._UZ(245,"input",102),t.TgZ(246,"div",19),t._uU(247,"This field is required"),t.qZA()()(),t.TgZ(248,"div",103)(249,"div",65)(250,"label",104),t._uU(251,"Remarks"),t.qZA(),t._UZ(252,"textarea",105),t.TgZ(253,"div",19),t._uU(254,"This field is required"),t.qZA()()()(),t.TgZ(255,"div",31)(256,"div",106)(257,"h4",107),t._uU(258,"Attachments"),t.qZA(),t._UZ(259,"file-upload",108),t.qZA()(),t.TgZ(260,"div",109)(261,"button",110),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onSubmit())}),t._uU(262,"Save changes"),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(27),t.Oqu(e.toggleRegistrationDate?"text_fields":"event"),t.xp6(26),t.Gre("col-","others"===e.deathForm.value.suffix?"3":"6",""),t.xp6(6),t.Q6J("ngForOf",e.constants.suffixOptions),t.xp6(5),t.Q6J("ngIf","others"===e.deathForm.value.suffix),t.xp6(7),t.Oqu(e.toggleBirthday?"text_fields":"event"),t.xp6(1),t.Q6J("type",e.toggleBirthday?"date":"text"),t.xp6(3),t.Gre("col-","others"===e.deathForm.value.sex?"3":"6",""),t.xp6(6),t.Q6J("ngForOf",e.constants.sexOptions),t.xp6(5),t.Q6J("ngIf","others"===e.deathForm.value.sex),t.xp6(1),t.Gre("col-","others"===e.deathForm.value.civilStatus?"3":"6",""),t.xp6(6),t.Q6J("ngForOf",e.constants.civilStatusOptions),t.xp6(5),t.Q6J("ngIf","others"===e.deathForm.value.civilStatus),t.xp6(19),t.Q6J("ngIf",e.deathForm.controls.occupation.enabled),t.xp6(1),t.Q6J("ngIf",e.deathForm.controls.companyNameOrAddress.enabled),t.xp6(1),t.Q6J("ngIf",e.deathForm.controls.survivingSpouseName.enabled),t.xp6(1),t.Q6J("ngIf",e.deathForm.controls.survivingSpouseAddress.enabled),t.xp6(11),t.Oqu(e.toggleDate?"text_fields":"event"),t.xp6(1),t.Q6J("type",e.toggleDate?"date":"text"),t.xp6(48),t.Gre("col-","others"===e.deathForm.value.medicalAttendantTitle?"3":"6",""),t.xp6(6),t.Q6J("ngForOf",e.constants.deathMedicalAttendantTitleOptions),t.xp6(5),t.Q6J("ngIf","others"===e.deathForm.value.medicalAttendantTitle),t.xp6(11),t.Gre("col-","others"===e.deathForm.value.corpseDisposal?"3":"6",""),t.xp6(6),t.Q6J("ngForOf",e.constants.corpseDisposalOptions),t.xp6(5),t.Q6J("ngIf","others"===e.deathForm.value.corpseDisposal),t.xp6(1),t.Gre("col-","others"===e.deathForm.value.autopsy?"3":"6",""),t.xp6(6),t.Q6J("ngForOf",e.constants.autopsyOptions),t.xp6(5),t.Q6J("ngIf","others"===e.deathForm.value.autopsy),t.xp6(7),t.Oqu(e.toggleDateIssued?"text_fields":"event"),t.xp6(1),t.Q6J("type",e.toggleDateIssued?"date":"text"),t.xp6(26),t.Q6J("control",e.deathForm.controls.attachments)}}const qt=[{path:"",component:(()=>{class o{constructor(e,i,a,u,f,p,g){this.fb=e,this.toast=i,this.router=a,this.sqlService=u,this.loading=f,this.activatedRoute=p,this.agePipe=g,this.constants=ot.$,this.deathForm=this.fb.nonNullable.group({firstName:this.fb.nonNullable.control(""),middleName:this.fb.nonNullable.control(""),lastName:this.fb.nonNullable.control(""),suffix:this.fb.nonNullable.control(""),customSuffix:this.fb.nonNullable.control(""),birthday:this.fb.nonNullable.control(""),sex:this.fb.nonNullable.control(""),customSex:this.fb.nonNullable.control(""),religion:this.fb.nonNullable.control(""),civilStatus:this.fb.nonNullable.control(""),customCivilStatus:this.fb.nonNullable.control(""),nationality:this.fb.nonNullable.control("FILIPINO"),address:this.fb.nonNullable.control(""),occupation:this.fb.nonNullable.control(""),companyNameOrAddress:this.fb.nonNullable.control(""),survivingSpouseName:this.fb.nonNullable.control(""),survivingSpouseAddress:this.fb.nonNullable.control(""),date:this.fb.nonNullable.control(""),time:this.fb.nonNullable.control(""),place:this.fb.nonNullable.control(""),primaryCauseOfDeath:this.fb.nonNullable.control(""),contributoryCauseOfDeath:this.fb.nonNullable.control(""),nonNaturalCauseOfDeath:this.fb.nonNullable.control(""),placeOfOccurence:this.fb.nonNullable.control(""),medicalAttendantName:this.fb.nonNullable.control(""),medicalAttendantTitle:this.fb.nonNullable.control(""),customMedicalAttendantTitle:this.fb.nonNullable.control(""),medicalAttendantAddress:this.fb.nonNullable.control(""),permitCertificateIssuanceDate:this.fb.nonNullable.control(""),burialPlace:this.fb.nonNullable.control(""),corpseDisposal:this.fb.nonNullable.control(""),customCorpseDisposal:this.fb.nonNullable.control(""),autopsy:this.fb.nonNullable.control(""),customAutopsy:this.fb.nonNullable.control(""),permitNumber:this.fb.nonNullable.control(""),bookNumber:this.fb.nonNullable.control(""),pageNumber:this.fb.nonNullable.control(""),registrationNumber:this.fb.nonNullable.control(""),registrationDate:this.fb.nonNullable.control(""),remarks:this.fb.nonNullable.control(""),isFetal:this.fb.nonNullable.control(""),attachments:this.fb.nonNullable.control(new Array)}),this.skipLocationChange=it.N.production}ngOnInit(){this.initializeRecord()}initializeRecord(){var e,i,a,u,f,p,g,_,b,v,Z,x,T,A,N,q,U,y,C,D,O,k,S,F,P,J,E,I,w,M,Q,Y,V,G,L,R,B,K,H,j;return(0,W.mG)(this,void 0,void 0,function*(){const et=yield this.loading.create();try{const z=this.activatedRoute.snapshot.params.id,n=yield this.sqlService.table("death").row(z).get();this.record=n,this.deathForm.setValue({firstName:null!==(e=n.firstName)&&void 0!==e?e:"",middleName:null!==(i=n.middleName)&&void 0!==i?i:"",lastName:null!==(a=n.lastName)&&void 0!==a?a:"",suffix:null!==(u=n.suffix)&&void 0!==u?u:"",customSuffix:null!==(f=n.suffix)&&void 0!==f?f:"",birthday:null!==(p=m.c.dateToInputDateValue(n.birthday))&&void 0!==p?p:"",sex:null!==(g=n.sex.toLowerCase())&&void 0!==g?g:"",customSex:null!==(_=n.sex)&&void 0!==_?_:"",religion:null!==(b=n.religion)&&void 0!==b?b:"",civilStatus:null!==(v=n.civilStatus.toLowerCase())&&void 0!==v?v:"",customCivilStatus:null!==(Z=n.civilStatus)&&void 0!==Z?Z:"",nationality:null!==(x=n.nationality)&&void 0!==x?x:"",address:null!==(T=n.address)&&void 0!==T?T:"",occupation:null!==(A=n.occupation)&&void 0!==A?A:"",companyNameOrAddress:null!==(N=n.companyNameOrAddress)&&void 0!==N?N:"",survivingSpouseName:null!==(q=n.survivingSpouseName)&&void 0!==q?q:"",survivingSpouseAddress:null!==(U=n.survivingSpouseAddress)&&void 0!==U?U:"",date:null!==(y=m.c.dateToInputDateValue(n.date))&&void 0!==y?y:"",time:null!==(C=n.time)&&void 0!==C?C:"",place:null!==(D=n.place)&&void 0!==D?D:"",primaryCauseOfDeath:null!==(O=n.primaryCauseOfDeath)&&void 0!==O?O:"",contributoryCauseOfDeath:null!==(k=n.contributoryCauseOfDeath)&&void 0!==k?k:"",nonNaturalCauseOfDeath:null!==(S=n.nonNaturalCauseOfDeath)&&void 0!==S?S:"",placeOfOccurence:null!==(F=n.placeOfOccurence)&&void 0!==F?F:"",medicalAttendantName:null!==(P=n.medicalAttendantName)&&void 0!==P?P:"",medicalAttendantTitle:null!==(J=n.medicalAttendantTitle)&&void 0!==J?J:"",customMedicalAttendantTitle:null!==(E=n.medicalAttendantTitle)&&void 0!==E?E:"",medicalAttendantAddress:null!==(I=n.medicalAttendantAddress)&&void 0!==I?I:"",permitCertificateIssuanceDate:null!==(w=m.c.dateToInputDateValue(n.permitCertificateIssuanceDate))&&void 0!==w?w:"",burialPlace:null!==(M=n.burialPlace)&&void 0!==M?M:"",corpseDisposal:null!==(Q=n.corpseDisposal.toLowerCase())&&void 0!==Q?Q:"",customCorpseDisposal:null!==(Y=n.corpseDisposal)&&void 0!==Y?Y:"",autopsy:null!==(V=n.autopsy.toLowerCase())&&void 0!==V?V:"",customAutopsy:null!==(G=n.autopsy)&&void 0!==G?G:"",permitNumber:null!==(L=n.permitNumber)&&void 0!==L?L:"",bookNumber:null!==(R=n.bookNumber)&&void 0!==R?R:"",pageNumber:null!==(B=n.pageNumber)&&void 0!==B?B:"",registrationNumber:null!==(K=n.registrationNumber)&&void 0!==K?K:"",registrationDate:null!==(H=m.c.dateToInputDateValue(n.registrationDate))&&void 0!==H?H:"",remarks:null!==(j=n.remarks)&&void 0!==j?j:"",isFetal:n.isFetal,attachments:n.attachments?n.attachments.filter(d=>d):[]}),this.setControlValueToOthers(this.constants.suffixOptions.map(d=>d.value),n.suffix,this.deathForm.controls.suffix),this.setControlValueToOthers(this.constants.civilStatusOptions.map(d=>d.value),n.civilStatus.toLowerCase(),this.deathForm.controls.civilStatus),this.setControlValueToOthers(this.constants.corpseDisposalOptions.map(d=>d.value),n.corpseDisposal.toLowerCase(),this.deathForm.controls.corpseDisposal),this.setControlValueToOthers(this.constants.deathMedicalAttendantTitleOptions.map(d=>d.value),n.corpseDisposal.toLowerCase(),this.deathForm.controls.medicalAttendantTitle),this.setControlValueToOthers(this.constants.autopsyOptions.map(d=>d.value),n.autopsy.toLowerCase(),this.deathForm.controls.autopsy),yield et.hide()}catch(z){yield et.hide(),this.toast.presentError(z)}})}onSubmit(){return(0,W.mG)(this,void 0,void 0,function*(){if(this.deathForm.invalid)return this.deathForm.markAsDirty(),this.deathForm.markAllAsTouched(),this.deathForm.updateValueAndValidity(),void this.toast.present("Some fields are required or invalid");const e=yield this.loading.create();try{const i=this.deathForm.getRawValue(),a=Object.assign(Object.assign({},i),{age:m.c.toNumber(this.agePipe.transform(i.birthday,i.date)),isFetal:i.isFetal,time:i.time?i.time+":00":void 0,suffix:"others"===i.suffix?i.customSuffix:i.suffix,sex:"others"===i.sex?i.customSex:i.sex,civilStatus:"others"===i.civilStatus?i.customCivilStatus:i.civilStatus,corpseDisposal:"others"===i.corpseDisposal?i.customCorpseDisposal:i.corpseDisposal,autopsy:"others"===i.autopsy?i.customAutopsy:i.autopsy}),u=this.activatedRoute.snapshot.params.id;yield this.sqlService.table("death").row(u).update(a),yield this.router.navigate(["../"],{relativeTo:this.activatedRoute,skipLocationChange:!0}),yield e.hide()}catch(i){yield this.toast.presentError(i),yield e.hide()}})}dateToInputDateValue(e){try{return new Date(e).toISOString()}catch(i){return}}onSelect(e){switch(e.target.value){case"1":this.deathForm.controls.occupation.disable(),this.deathForm.controls.companyNameOrAddress.disable(),this.deathForm.controls.survivingSpouseName.disable(),this.deathForm.controls.survivingSpouseAddress.disable();break;case"0":this.deathForm.controls.occupation.enable(),this.deathForm.controls.companyNameOrAddress.enable(),this.deathForm.controls.survivingSpouseName.enable(),this.deathForm.controls.survivingSpouseAddress.enable()}}onSelectChange(e,i){"others"===e.value?(i.setValidators(s.kI.required),i.updateValueAndValidity()):(i.clearValidators(),i.updateValueAndValidity())}setControlValueToOthers(e,i,a){!i||e.includes(i)||a.setValue("others")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(s.qu),t.Y36(at.k),t.Y36(c.F0),t.Y36(nt.a),t.Y36(lt.b),t.Y36(c.gz),t.Y36(tt.C))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-edit-death"]],decls:44,vars:3,consts:[[1,"bg-light","border-bottom"],[1,"px-xl-5","px-4"],[1,"d-flex","flex-wrap","align-items-center","px-xl-5","pt-5"],[1,"d-flex","align-items-center","mb-0","me-auto","text-dark","text-decoration-none","lh-1"],[1,"fs-2-large","text-primary","fw-bold"],[1,"px-xl-5","pt-3","pb-3","d-flex","justify-content-between","align-items-start"],["type","button","data-bs-toggle","modal","data-bs-target","#staticBackdrop",1,"btn","btn-sm","btn-link","d-flex","align-items-center","text-decoration-none","text-info","ps-0"],[1,"material-icons","fs-3","me-2"],[1,"fs-5"],[1,"px-xl-5","mt-5"],["novalidate","",1,"needs-validation","pb-5",3,"formGroup"],[1,"content","mb-5","pb-3"],[1,"fw-semibold","mb-4"],[1,"row","g-3"],[1,"col-6"],["formControlName","isFetal",1,"form-select",3,"change"],["value","","disabled",""],["value","0"],["value","1"],[1,"invalid-feedback","fs-5","mt-1"],[4,"ngIf"],["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","true","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content","rounded-4"],[1,"modal-header","border-0"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer","border-0","pb-4","px-1"],["type","button","data-bs-dismiss","modal",1,"btn","btn-default"],["type","button","data-bs-dismiss","modal","routerLink","../",1,"btn","btn-default","text-danger","rounded-3",3,"skipLocationChange"],[1,"content"],[1,"col-xl-3","col-4"],["for","bookNumber",1,"d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","bookNumber",1,"form-control"],["for","pageNumber",1,"d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","pageNumber",1,"form-control"],["for","registrationNumber",1,"d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","registrationNumber",1,"form-control"],[1,"col-xl-3","col-12"],["for","registrationDate",1,"d-flex","align-items-center","justify-content-between","text-truncate","fs-5","mb-1"],[3,"click"],[1,"toggle-date-anchor","material-icons","text-secondary"],["type","date","formControlName","registrationDate",1,"form-control"],[1,"content","mt-5"],["for","firstName",1,"d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","firstName",1,"form-control"],["for","middleInitial",1,"d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","middleName",1,"form-control"],["for","lastName",1,"d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","lastName",1,"form-control"],["for","suffix",1,"d-block","text-truncate","fs-5","mb-1"],["formControlName","suffix",1,"form-select",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","others"],["class","col-3",4,"ngIf"],["for","birthday",1,"d-flex","align-items-center","justify-content-between","text-truncate","fs-5","mb-1"],["formControlName","birthday",1,"form-control",3,"type"],["for","sex",1,"d-block","text-truncate","fs-5","mb-1"],["formControlName","sex",1,"form-select",3,"change"],["for","civilStatus",1,"d-block","text-truncate","fs-5","mb-1"],["formControlName","civilStatus",1,"form-select",3,"change"],["for","nationality",1,"d-block","text-truncatel","fs-5","mb-1"],["type","text","formControlName","nationality",1,"form-control"],[1,"col-12"],["for","religion",1,"d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","religion",1,"form-control"],["for","address",1,"d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","address","rows","2",1,"form-control"],["class","col-12",4,"ngIf"],[1,"fw-semibold","mb-3"],["for","date",1,"d-flex","align-items-center","justify-content-between","text-truncate","fs-5","mb-1"],["formControlName","date",1,"form-control",3,"type"],["for","time",1,"d-block","text-truncate","fs-5","mb-1"],["type","time","formControlName","time",1,"form-control"],["for","place",1,"d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","place",1,"form-control"],["for","primaryCauseOfDeath",1,"d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","primaryCauseOfDeath",1,"form-control"],["for","contributoryCauseOfDeath",1,"d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","contributoryCauseOfDeath",1,"form-control"],["for","nonNaturalCauseOfDeath",1,"d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","nonNaturalCauseOfDeath",1,"form-control"],["for","placeOfOccurence",1,"d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","placeOfOccurence",1,"form-control"],[1,"fw-semibold","mb-4","mt-4","pt-2","fs-5-large"],["for","medicalAttendantName",1,"d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","medicalAttendantName",1,"form-control"],["for","medicalAttendantTitle",1,"d-block","text-truncate","fs-5","mb-1"],["formControlName","medicalAttendantTitle",1,"form-select",3,"change"],["for","medicalAttendantAddress",1,"d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","medicalAttendantAddress","rows","2",1,"form-control"],["for","corpseDisposal",1,"d-block","text-truncate","d-block","text-truncate","fs-5","mb-1"],["formControlName","corpseDisposal",1,"form-select",3,"change"],["for","autopsy",1,"d-block","text-truncate","d-block","text-truncate","fs-5","mb-1"],["formControlName","autopsy",1,"form-select",3,"change"],["for","permitCertificateIssuanceDate",1,"d-flex","align-items-center","justify-content-between","text-truncate","fs-5","mb-1"],["formControlName","permitCertificateIssuanceDate",1,"form-control",3,"type"],["for","permitNumber",1,"d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","permitNumber","placeholder","",1,"form-control"],["for","burialPlace",1,"d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","burialPlace",1,"form-control"],[1,"row","mt-5"],["for","remarks",1,"d-block","text-truncate"],["type","text","formControlName","remarks","rows","3",1,"form-control"],[1,"d-flex","flex-column"],[1,"fw-semibold","mt-5","mb-4"],["type","death",3,"control"],[1,"buttons"],["data-bs-toggle","button","type","submit",1,"rounded-3","px-5","py-3","btn","btn-info","mt-5",3,"click"],[3,"value"],[1,"col-3"],["for","customSuffix",1,"d-block","text-truncate","d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","customSuffix",1,"form-control"],["for","customSex",1,"d-block","text-truncate","d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","customSex",1,"form-control"],["for","customCivilStatus",1,"d-block","text-truncate","d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","customCivilStatus",1,"form-control"],["for","occupation",1,"d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","occupation",1,"form-control"],["for","companyNameOrAddress",1,"d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","companyNameOrAddress","rows","2",1,"form-control"],["for","survivingSpouseName",1,"d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","survivingSpouseName",1,"form-control"],["for","survivingSpouseAddress",1,"d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","survivingSpouseAddress","rows","2",1,"form-control"],["for","customMedicalAttendantTitle",1,"d-block","text-truncate","d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","customMedicalAttendantTitle",1,"form-control"],["for","customCorpseDisposal",1,"d-block","text-truncate","d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","customCorpseDisposal",1,"form-control"],["for","customAutopsy",1,"d-block","text-truncate","fs-5","mb-1"],["type","text","formControlName","customAutopsy",1,"form-control"]],template:function(e,i){1&e&&(t.TgZ(0,"header",0)(1,"div",1)(2,"section",2)(3,"a",3)(4,"span",4),t._uU(5,"Edit death record"),t.qZA()()(),t.TgZ(6,"section",5)(7,"button",6)(8,"span",7),t._uU(9,"arrow_back"),t.qZA(),t.TgZ(10,"span",8),t._uU(11,"Back"),t.qZA()()()()(),t.TgZ(12,"main",9)(13,"main",1)(14,"form",10)(15,"div",11)(16,"h4",12),t._uU(17,"Type of death"),t.qZA(),t.TgZ(18,"div",13)(19,"div",14)(20,"select",15),t.NdJ("change",function(u){return i.onSelect(u)}),t.TgZ(21,"option",16),t._uU(22,"Choose..."),t.qZA(),t.TgZ(23,"option",17),t._uU(24,"Non-fetal"),t.qZA(),t.TgZ(25,"option",18),t._uU(26,"Fetal"),t.qZA()(),t.TgZ(27,"div",19),t._uU(28,"This field is required"),t.qZA()()()(),t.YNc(29,Nt,263,42,"ng-container",20),t.qZA()()(),t.TgZ(30,"div",21)(31,"div",22)(32,"div",23)(33,"div",24)(34,"h5",25),t._uU(35,"Discard changes?"),t.qZA(),t._UZ(36,"button",26),t.qZA(),t.TgZ(37,"div",27),t._uU(38,"You have unsaved changes. Are you sure you want to discard them?"),t.qZA(),t.TgZ(39,"div",28)(40,"button",29),t._uU(41,"Keep editing"),t.qZA(),t.TgZ(42,"button",30),t._uU(43,"Close and discard"),t.qZA()()()()()),2&e&&(t.xp6(14),t.Q6J("formGroup",i.deathForm),t.xp6(15),t.Q6J("ngIf",i.deathForm.controls.isFetal.valid),t.xp6(13),t.Q6J("skipLocationChange",i.skipLocationChange))},dependencies:[h.sg,h.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,X.YI,c.rH,s.sg,s.u,rt.Y],styles:[".form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{min-height:48px;border-radius:8px!important}.input-group-text[_ngcontent-%COMP%]{border-top-left-radius:8px;border-bottom-left-radius:8px}.input-group-text[_ngcontent-%COMP%] + .form-control[_ngcontent-%COMP%], .input-group-text[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}form[_ngcontent-%COMP%]{max-width:1000px}textarea[_ngcontent-%COMP%]{resize:none}.toggle-date-anchor[_ngcontent-%COMP%]{font-size:1em;cursor:pointer}"]}),o})()}];let Ut=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.Bz.forChild(qt),c.Bz]}),o})();var yt=r(6650);let Ct=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[tt.C],imports:[h.ez,s.u5,X.Pc,Ut,s.UX,yt.O]}),o})()}}]);