"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8523],{8398:(b,v,l)=>{l.d(v,{q:()=>g});var x=l(9808),y=l(5031),m=l(4893);let g=(()=>{class T{}return T.\u0275fac=function(P){return new(P||T)},T.\u0275mod=m.oAB({type:T}),T.\u0275inj=m.cJS({providers:[y.I],imports:[x.ez]}),T})()},5031:(b,v,l)=>{l.d(v,{I:()=>P});var x=l(655),y=l(9808),m=l(3905),g=l(2340),T=l(4893),p=l(520);let P=(()=>{class f{constructor(h,u){var i,n;this.baseHref=h,this._http=u,this.hostname=null!==(i=g.N.hostname)&&void 0!==i?i:location.hostname,this.pathname=null!==(n=g.N.ci.pathname)&&void 0!==n?n:this.baseHref+"api/"}uploadFile(h,u,i="birth"){return(0,x.mG)(this,void 0,void 0,function*(){if(!h)return;const n=`${Date.now().toString(32)}_${Math.random().toString(16)}`.replace(/\./g,""),s=`${i}-u${u||"0"}-${n}.pdf`,o=new FormData;o.append("file",h,s);const a=this._http.post(`http://${this.hostname}${this.pathname}/file`,o);return(yield(0,m.z)(a)).data.upload_data.file_name})}downloadFile(h,u,i){return(0,x.mG)(this,void 0,void 0,function*(){const n=this._http.get(`http://${this.hostname}${this.pathname}file/${h}`,{responseType:"blob"}),s=yield(0,m.z)(n),o=new Blob([s],{type:s.type});this.cheatDownload(`Attachment ${u}`,o,i)})}cheatDownload(h,u,i){let n=window.URL.createObjectURL(u),s=document.createElement("a");document.body.appendChild(s),s.setAttribute("style","display: none"),s.href=n,i?s.target="_blank":s.download=h,s.click(),window.URL.revokeObjectURL(n),s.remove()}}return f.\u0275fac=function(h){return new(h||f)(T.LFG(y.mr),T.LFG(p.eN))},f.\u0275prov=T.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},4263:(b,v,l)=>{l.d(v,{F:()=>F});var x=l(655),y=l(5457),m=l(3905),g=l(2340),T=l(860),p=l(4893),P=l(520),f=l(9808);let F=(()=>{class h{constructor(i,n,s){this.httpClient=i,this.datePipe=n,this.decimalPipe=s}reloadData(i){return(0,x.mG)(this,void 0,void 0,function*(){const n=yield y.PDFDocument.load(i),s=new T.L(n,{dimension:{width:612,height:1005},margin:{top:.5,left:1,bottom:.5,right:1,unit:"in"}},{httpClient:this.httpClient}),o={};return s.getFields().map(r=>r.getName()).forEach(r=>{try{const t=s.getTextField(r).getText();return void(o[r]=t)}catch(a){}try{const t=s.getCheckBox(r).isChecked();return void(o[r]=t)}catch(a){}}),o})}generateSamplePdf(i,n){return(0,x.mG)(this,void 0,void 0,function*(){const o=yield this.getPdfArrayBufferByFileUrl("assets/docs/sample.pdf"),r=yield y.PDFDocument.load(o),t=(yield r.embedFont("Helvetica"),yield r.getPages());this.drawGrid(t[0]);const e=yield r.save(),d=new Blob([e],{type:"application/pdf"});return URL.createObjectURL(d)})}generateFormNo10(i,n){return(0,x.mG)(this,void 0,void 0,function*(){const o=yield this.getPdfArrayBufferByFileUrl("assets/docs/form-no-10.pdf"),r=yield y.PDFDocument.load(o),a=yield r.embedFont("Helvetica");(yield r.getPages())[0].drawText("Hello world",{x:200,y:200,font:a,size:12});const e=yield r.save(),d=new Blob([e],{type:"application/pdf"});return URL.createObjectURL(d)})}generateMunicipalFormNo90FormNo2(i,n){return(0,x.mG)(this,void 0,void 0,function*(){const o=yield this.getPdfArrayBufferByFileUrl("assets/docs/municipal-form-no-90-form-no-2.pdf"),r=yield y.PDFDocument.load(o),t=(yield r.getPages())[0],e=yield r.embedFont("Helvetica");this.drawText(t,"Laguna",{x:100,y:893},e,9),this.drawText(t,"Binan",{x:135,y:877},e,9),this.drawText(t,i.registrationNumber,{x:400,y:878},e,12),this.drawText(t,"Recieved By",{x:120,y:858},e,9),this.drawText(t,"Date of Receipt",{x:140,y:846},e,9),this.drawText(t,"0000 0000",{x:430,y:860},e,9),this.drawText(t,"Jan. 20 1998",{x:502,y:848},e,9),this.drawText(t,"Bride Full Name",{x:155,y:774},e,8,"center"),this.drawText(t,"First Name",{x:81,y:714.5},e,8),this.drawText(t,"Middle Name",{x:87,y:702},e,8),this.drawText(t,"Last Name",{x:82,y:689.5},e,8),this.drawText(t,"00",{x:65,y:663},e,9,"center"),this.drawText(t,"September",{x:127,y:663},e,9,"center"),this.drawText(t,"0000",{x:206,y:663},e,9,"center"),this.drawText(t,"20",{x:253,y:663},e,8,"center"),this.drawText(t,"Place of birth",{x:59,y:636},e,8),this.drawText(t,"Male",{x:95,y:611},e,8,"center"),this.drawText(t,"Filipino Citizen",{x:209,y:611},e,8,"center"),this.drawText(t,"Address",{x:59,y:584},e,8),this.drawText(t,"Religion",{x:59,y:558},e,8),this.drawText(t,"CivilStatus",{x:59,y:532},e,8),this.drawText(t,"Dissolved",{x:59,y:505},e,8),this.drawText(t,"Place Dissolved",{x:59,y:472},e,8),this.drawText(t,"00",{x:67,y:446},e,8,"center"),this.drawText(t,"January",{x:166,y:446},e,8,"center"),this.drawText(t,"0000",{x:240,y:446},e,8,"center"),this.drawText(t,"Degree of relationship",{x:59,y:420},e,8),this.drawText(t,"Father Name",{x:59,y:394},e,8),this.drawText(t,"Filipino Citizen",{x:59,y:374},e,8),this.drawText(t,"Address",{x:59,y:346},e,8),this.drawText(t,"Mother Name",{x:59,y:316},e,8),this.drawText(t,"Filipino Citizen",{x:59,y:296},e,8),this.drawText(t,"Address",{x:59,y:273},e,8),this.drawText(t,"Person who give consent",{x:59,y:248},e,8),this.drawText(t,"Relationship",{x:59,y:227},e,8),this.drawText(t,"Filipino Citizen",{x:59,y:210},e,8),this.drawText(t,"Address",{x:59,y:180},e,8),this.drawText(t,"Groom Full Name",{x:416,y:774},e,8,"center"),this.drawText(t,"First Name",{x:382,y:714.5},e,8),this.drawText(t,"Middle Name",{x:390,y:702},e,8),this.drawText(t,"Last Name",{x:382,y:689.5},e,8),this.drawText(t,"00",{x:365,y:663},e,9,"center"),this.drawText(t,"September",{x:426,y:663},e,9,"center"),this.drawText(t,"0000",{x:506,y:663},e,9,"center"),this.drawText(t,"20",{x:559,y:663},e,8,"center"),this.drawText(t,"Place of birth",{x:356,y:636},e,8),this.drawText(t,"Male",{x:393,y:611},e,8,"center"),this.drawText(t,"Filipino Citizen",{x:507,y:611},e,8,"center"),this.drawText(t,"Address",{x:356,y:584},e,8),this.drawText(t,"Religion",{x:356,y:558},e,8),this.drawText(t,"CivilStatus",{x:356,y:532},e,8),this.drawText(t,"Dissolved",{x:356,y:505},e,8),this.drawText(t,"Place Dissolved",{x:356,y:472},e,8),this.drawText(t,"00",{x:365,y:446},e,8,"center"),this.drawText(t,"January",{x:466,y:446},e,8,"center"),this.drawText(t,"0000",{x:539,y:446},e,8,"center"),this.drawText(t,"Degree of relationship",{x:356,y:420},e,8),this.drawText(t,"Father Name",{x:356,y:394},e,8),this.drawText(t,"Filipino Citizen",{x:356,y:374},e,8),this.drawText(t,"Address",{x:356,y:346},e,8),this.drawText(t,"Mother Name",{x:356,y:316},e,8),this.drawText(t,"Filipino Citizen",{x:356,y:296},e,8),this.drawText(t,"Address",{x:356,y:273},e,8),this.drawText(t,"Person who give consent",{x:356,y:248},e,8),this.drawText(t,"Relationship",{x:356,y:227},e,8),this.drawText(t,"Filipino Citizen",{x:356,y:210},e,8),this.drawText(t,"Address",{x:356,y:180},e,8);const w=yield r.save(),_=new Blob([w],{type:"application/pdf"});return URL.createObjectURL(_)})}generateMunicipalFormNo97(i,n){return(0,x.mG)(this,void 0,void 0,function*(){const o=yield this.getPdfArrayBufferByFileUrl("assets/docs/municipal-form-no-97.pdf"),r=yield y.PDFDocument.load(o),t=(yield r.getPages())[0],e=yield r.embedFont("Helvetica");this.drawText(t,"Laguna",{x:100,y:917},e,9),this.drawText(t,"Binan",{x:135,y:901},e,9),this.drawText(t,"0000-000-00000",{x:475,y:905},e,12,"center"),this.drawText(t,"First Name",{x:145,y:872},e,8),this.drawText(t,"Middle Name",{x:153,y:860},e,8),this.drawText(t,"Last Name",{x:145,y:848},e,8),this.drawText(t,"00",{x:147,y:825},e,8,"center"),this.drawText(t,"September",{x:207,y:825},e,8,"center"),this.drawText(t,"1999",{x:253,y:825},e,8,"center"),this.drawText(t,"20",{x:327,y:825},e,8,"center"),this.drawText(t,"Place of birth",{x:124,y:797},e,8),this.drawText(t,"Male",{x:124,y:774},e,8),this.drawText(t,"Citizenship",{x:199,y:774},e,8),this.drawText(t,"Residence",{x:124,y:746},e,8),this.drawText(t,"Religion",{x:124,y:726},e,8),this.drawText(t,"Civil Status",{x:124,y:704},e,8),this.drawText(t,"Father Name",{x:124,y:678},e,8),this.drawText(t,"Father Citizenship",{x:124,y:660},e,8),this.drawText(t,"Mother Name",{x:124,y:634},e,8),this.drawText(t,"Mother Citizenship",{x:124,y:611},e,8),this.drawText(t,"Person Name",{x:124,y:586},e,8),this.drawText(t,"Relationship",{x:124,y:568},e,8),this.drawText(t,"Residence",{x:124,y:542},e,8),this.drawText(t,"First Name",{x:376,y:872},e,8),this.drawText(t,"Middle Name",{x:384,y:860},e,8),this.drawText(t,"Last Name",{x:376,y:848},e,8),this.drawText(t,"00",{x:388,y:825},e,8,"center"),this.drawText(t,"September",{x:434,y:825},e,8,"center"),this.drawText(t,"1999",{x:490,y:825},e,8,"center"),this.drawText(t,"20",{x:556,y:825},e,8,"center"),this.drawText(t,"Place of birth",{x:354,y:797},e,8),this.drawText(t,"Male",{x:354,y:774},e,8),this.drawText(t,"Citizenship",{x:432,y:774},e,8),this.drawText(t,"Residence",{x:354,y:746},e,8),this.drawText(t,"Religion",{x:354,y:726},e,8),this.drawText(t,"Civil Status",{x:354,y:704},e,8),this.drawText(t,"Father Name",{x:354,y:678},e,8),this.drawText(t,"Father Citizenship",{x:354,y:660},e,8),this.drawText(t,"Mother Name",{x:354,y:634},e,8),this.drawText(t,"Mother Citizenship",{x:354,y:611},e,8),this.drawText(t,"Person Name",{x:354,y:586},e,8),this.drawText(t,"Relationship",{x:354,y:568},e,8),this.drawText(t,"Residence",{x:354,y:542},e,8);const d=yield r.save(),c=new Blob([d],{type:"application/pdf"});return URL.createObjectURL(c)})}generateCcroFormNo1B(i,n){return(0,x.mG)(this,void 0,void 0,function*(){const o=yield this.getPdfArrayBufferByFileUrl("assets/docs/ccro-form-no-1b.pdf"),r=yield y.PDFDocument.load(o),a=yield r.embedFont("Helvetica");(yield r.getPages())[0].drawText("Hello world",{x:200,y:200,font:a,size:12});const e=yield r.save(),d=new Blob([e],{type:"application/pdf"});return URL.createObjectURL(d)})}generateMunicipalFormNo102(i,n){return(0,x.mG)(this,void 0,void 0,function*(){const o=yield this.getPdfArrayBufferByFileUrl("assets/docs/municipal-form-no-102.pdf"),r=yield y.PDFDocument.load(o),t=(yield r.getPages())[0],e=yield r.embedFont("Helvetica");g.N.development&&(console.log("Width: "+t.getWidth()),console.log("Height: "+t.getHeight()));const d="M13.7071,4.29289 C14.0976,4.68342 14.0976,5.31658 13.7071,5.70711 L7.70711,11.7071 C7.31658,12.0976 6.68342,12.0976 6.29289,11.7071 L3.29289,8.70711 C2.90237,8.31658 2.90237,7.68342 3.29289,7.29289 C3.68342,6.90237 4.31658,6.90237 4.70711,7.29289 L7,9.58579 L12.2929,4.29289 C12.6834,3.90237 13.3166,3.90237 13.7071,4.29289 Z";switch(this.drawText(t,"Laguna",{x:100,y:898},e,9),this.drawText(t,"Binan",{x:135,y:882},e,9),this.drawText(t,i.registrationNumber,{x:400,y:888},e,12),this.drawText(t,i.firstName,{x:164,y:855},e,9,"center"),this.drawText(t,i.middleName,{x:318,y:855},e,9,"center"),this.drawText(t,i.lastName,{x:465,y:855},e,9,"center"),this.drawText(t,i.sex,{x:88,y:826},e,9),this.drawText(t,i.date,{x:329.5,y:826},e,9,"center"),this.drawText(t,"",{x:410,y:826},e,9,"center"),this.drawText(t,"",{x:510,y:826},e,9,"center"),this.drawText(t,i.place,{x:143,y:796},e,9),this.drawText(t,i.type,{x:136,y:757},e,9,"center"),this.drawText(t,"",{x:282,y:757},e,9,"center"),this.drawText(t,this.getNumberWithOrdinal(i.order),{x:418,y:757},e,9,"center"),this.drawText(t,"",{x:523,y:757},e,9,"center"),this.drawText(t,i.motherName,{x:164,y:728},e,9,"left"),this.drawText(t,i.motherNationality,{x:88,y:699},e,9),this.drawText(t,i.motherReligion,{x:343,y:699},e,9),this.drawText(t,"",{x:107,y:664},e,9,"center"),this.drawText(t,"",{x:191,y:664},e,9,"center"),this.drawText(t,"",{x:283,y:664},e,9,"center"),this.drawText(t,"",{x:349,y:670},e,9),this.drawText(t,i.motherAge.toString(),{x:535,y:664},e,9,"center"),this.drawText(t,"",{x:88,y:637},e,9),this.drawText(t,i.fatherName,{x:164,y:605},e,9,"left"),this.drawText(t,"",{x:325,y:605},e,9,"center"),this.drawText(t,"",{x:471,y:605},e,9,"center"),this.drawText(t,i.fatherNationality,{x:88,y:573},e,9),this.drawText(t,i.fatherReligion,{x:222,y:573},e,9),this.drawText(t,i.fatherOccupation,{x:370,y:573},e,9),this.drawText(t,i.fatherAge.toString(),{x:505,y:568},e,9),this.drawText(t,"",{x:88,y:538},e,9),this.drawText(t,"",{x:132.5,y:493},e,9,"center"),this.drawText(t,"",{x:178,y:493},e,9,"center"),this.drawText(t,"",{x:221,y:493},e,9,"center"),this.drawText(t,"",{x:276,y:493},e,9),i.attendantTitle.toLowerCase()){case"physician":t.drawSvgPath(d,{x:60,y:470});break;case"nurse":t.drawSvgPath(d,{x:134,y:470});break;case"midwife":t.drawSvgPath(d,{x:199,y:470});break;case"hilot":t.drawSvgPath(d,{x:269,y:470});break;default:t.drawSvgPath(d,{x:420,y:470}),this.drawText(t,i.attendantTitle,{x:517,y:460},e,9)}this.drawText(t,i.time,{x:368,y:433},e,9),this.drawText(t,i.attendantName,{x:120,y:393},e,9),this.drawText(t,i.attendantTitle,{x:123,y:375},e,9),this.drawText(t,i.date,{x:344,y:377},e,9),this.drawMultipleLineText(t,i.attendantAddress,{x:361,y:409},e,{maxLine:2,maxLength:50,yAdjustment:6},9);const c=yield r.save(),w=new Blob([c],{type:"application/pdf"});return URL.createObjectURL(w)})}generateRa9048FormNo11(i,n){return(0,x.mG)(this,void 0,void 0,function*(){const o=yield this.getPdfArrayBufferByFileUrl("assets/docs/ra-9048-form-no-1-1.pdf"),r=yield y.PDFDocument.load(o),a=yield r.embedFont("Helvetica"),t=yield r.getPages();t[0].getWidth(),t[0].getHeight(),t[0].moveDown(25),t[0].drawSvgPath("M 0,20 L 100,160 Q 130,200 150,120 C 190,-40 200,200 300,150 L 400,90"),t[0].drawText("Hello world",{x:200,y:200,font:a,size:12,maxWidth:10}),t[0].drawText("Hello world",{x:200,y:200,font:a,size:12});const w=yield r.save(),_=new Blob([w],{type:"application/pdf"});return URL.createObjectURL(_)})}generateRaFormNo21Ccro(i,n){return(0,x.mG)(this,void 0,void 0,function*(){const o=yield this.getPdfArrayBufferByFileUrl("assets/docs/ra-form-no-2-1-ccro.pdf"),r=yield y.PDFDocument.load(o),a=yield r.embedFont("Helvetica");(yield r.getPages())[0].drawText("Hello world",{x:200,y:200,font:a,size:12});const e=yield r.save(),d=new Blob([e],{type:"application/pdf"});return URL.createObjectURL(d)})}generateRaFormNo41Lcro(i,n){return(0,x.mG)(this,void 0,void 0,function*(){const o=yield this.getPdfArrayBufferByFileUrl("assets/docs/ra-form-no-4-1-lcro.pdf"),r=yield y.PDFDocument.load(o),a=yield r.embedFont("Helvetica");(yield r.getPages())[0].drawText("Hello world",{x:200,y:200,font:a,size:12});const e=yield r.save(),d=new Blob([e],{type:"application/pdf"});return URL.createObjectURL(d)})}getPdfArrayBufferByFileUrl(i){return(0,x.mG)(this,void 0,void 0,function*(){const n=this.httpClient.get(i,{responseType:"arraybuffer"});return yield(0,m.z)(n)})}drawGrid(i){return(0,x.mG)(this,void 0,void 0,function*(){const a=(0,y.rgb)(0,0,0);for(let t=0;t<=45;t++){const e=20*t;i.drawLine({start:{x:0,y:e},end:{x:900,y:e},thickness:1,color:a}),i.drawText(`${e}`,{x:0,y:e,size:9})}for(let t=0;t<=45;t++){const e=20*t;i.drawLine({start:{x:e,y:0},end:{x:e,y:900},thickness:1,color:a}),i.drawText(`${e}`,{x:e,y:0,size:9})}})}drawText(i,n,s,o,r=12,a="left"){let t=s.x,e=s.y,d=o.widthOfTextAtSize(n,r);switch(a){case"center":t-=d/2;break;case"right":t-=d}i.drawText(n,{x:t,y:e,size:r,font:o})}drawMultipleLineText(i,n,s,o,r,a=12,t="left"){const e=this.splitAndTruncate(n,r.maxLength,r.maxLine);let d=0;for(const c of e)this.drawText(i,c,{x:s.x,y:s.y-d},o,a,t),d+=a+(r.yAdjustment?r.yAdjustment:.5)}splitAndTruncateByWidth(i,n,s,o,r){var a,t;if(o.widthOfTextAtSize(i,r)<=n)return[i];const e=i.split(" ");let d=[],c="";for(const w of e)o.widthOfTextAtSize(c+w,r)<=n?c+=(c?" ":"")+w:(d.push(c),c=w),e[e.length-1]===w&&d.push(c);if(d.length>s){let w=d.splice(s,d.length-1);d[d.length-1]+=" "+w.join(" ")}return o.widthOfTextAtSize(null!==(a=d[d.length-1])&&void 0!==a?a:"",r)>n&&(d[d.length-1]=(null===(t=d[d.length-1])||void 0===t?void 0:t.substring(0,d[0].length-3))+"..."),d=d.map(w=>w.trim()),d}splitAndTruncate(i,n,s){var o;if(i.length<=n)return[i];const r=i.split(" ");let a=[],t="";for(const e of r)(t+e).length<=n?t+=(t?" ":"")+e:(a.push(t),t=e),r[r.length-1]===e&&a.push(t);if(a.length>s){let e=a.splice(s,a.length-1);a[a.length-1]+=" "+e.join(" ")}return a[a.length-1].length>=n&&(a[a.length-1]=(null===(o=a[a.length-1])||void 0===o?void 0:o.substring(0,n-3))+"..."),a}getNumberWithOrdinal(i){var n=["th","st","nd","rd"],s=i%100;return i+(n[(s-20)%10]||n[s]||n[0])}}return h.\u0275fac=function(i){return new(i||h)(p.LFG(P.eN),p.LFG(f.uU),p.LFG(f.JJ))},h.\u0275prov=p.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()}}]);