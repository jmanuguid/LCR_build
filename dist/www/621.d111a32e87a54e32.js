"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[621],{8398:(U,f,n)=>{n.d(f,{q:()=>g});var d=n(9808),u=n(5031),_=n(4893);let g=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=_.oAB({type:o}),o.\u0275inj=_.cJS({providers:[u.I],imports:[d.ez]}),o})()},3518:(U,f,n)=>{n.d(f,{$:()=>d});let d=(()=>{class u{static getDisplayValue(g,o){const c=g.find(r=>{if(o)return r.value.toLowerCase()===o.toLowerCase()});return c?c.display:o}}return u.suffixOptions=[{value:"SR.",display:"SR."},{value:"JR.",display:"JR."},{value:"II",display:"II"},{value:"III",display:"III"},{value:"IV",display:"IV"},{value:"V",display:"V"},{value:"VI",display:"VI"},{value:"VII",display:"VII"}],u.sexOptions=[{value:"MALE",display:"MALE"},{value:"FEMALE",display:"FEMALE"}],u.birthTypeOptions=[{value:"SINGLE",display:"SINGLE"},{value:"TWINS",display:"TWINS"},{value:"TRIPLETS",display:"TRIPLETS"},{value:"QUADRUPLETS",display:"QUADRUPLETS"}],u.legitimacyOptions=[{value:"MARITAL",display:"MARITAL"},{value:"NONMARITAL",display:"NON-MARITAL"}],u.civilStatusOptions=[{value:"SINGLE",display:"SINGLE"},{value:"MARRIED",display:"MARRIED"},{value:"DIVORCED",display:"DIVORCED"},{value:"SEPERATED",display:"SEPERATED"},{value:"WIDOWED",display:"WIDOWED"}],u.corpseDisposalOptions=[{value:"BURIAL",display:"BURIAL"},{value:"CREMATION",display:"CREMATION"}],u.autopsyOptions=[{value:"YES",display:"YES"},{value:"NO",display:"NO"}],u.medicalAttendantOptions=[{value:"PHYSICIAN",display:"PHYSICIAN"},{value:"NURSE",display:"NURSE"},{value:"MIDWIFE",display:"MIDWIFE"},{value:"HILOT",display:"HILOT (Traditional Birth Attendant)"}],u.deathMedicalAttendantTitleOptions=[{value:"PRIVATEPHYSICIAN",display:"PRIVATE PHYSICIAN"},{value:"PUBLICHEALTHOFFICER",display:"PUBLIC HEALTH OFFICER"},{value:"HOSPITALAUTHORITY",display:"HOSPITAL AUTHORITY"},{value:"NONE",display:"NONE"}],u})()},3417:(U,f,n)=>{n.r(f),n.d(f,{ViewMarriagePageModule:()=>F});var d=n(9808),u=n(2382),_=n(8058),g=n(7614),o=n(655),c=n(2340),r=n(3518),e=n(4893),x=n(8876),m=n(4465),v=n(5219),h=n(3500),Z=n(7556),p=n(2643),T=n(1110);function q(i,l){if(1&i&&(e.TgZ(0,"span",4),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij("\xa0-\xa0Mr. & Mrs. ",t.record.husbandLastName||"\u2014","")}}function b(i,l){if(1&i&&(e.TgZ(0,"button",15)(1,"span"),e._uU(2,"Edit record"),e.qZA(),e.TgZ(3,"span",16),e._uU(4,"edit"),e.qZA()()),2&i){const t=e.oxw();e.Q6J("skipLocationChange",t.skipLocationChange)}}function y(i,l){if(1&i&&(e.TgZ(0,"div",23)(1,"h6",24),e._uU(2,"Certificate registry number"),e.qZA(),e.TgZ(3,"p",22),e._uU(4),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(4),e.Oqu(t.record.registrationNumber||"\u2014")}}function M(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.generateReport())}),e.TgZ(1,"span",45),e._uU(2,"Generate report"),e.qZA()()}}function O(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",54)(1,"h4",55),e._uU(2,"Transfer record"),e.qZA(),e.TgZ(3,"p"),e._uU(4,"Would you like to transfer record to Marriage Certificates?"),e.qZA(),e.TgZ(5,"div",56)(6,"button",57),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(4);return e.KtG(s.confirmModal&&s.confirmModal.hide())}),e._uU(7,"No"),e.qZA(),e.TgZ(8,"button",57),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(4);return e.KtG(s.transferRecord())}),e._uU(9,"Yes, transfer"),e.qZA()()()}}function w(i,l){if(1&i){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",28),e.TgZ(2,"div")(3,"a",46)(4,"div",47)(5,"div")(6,"p",24)(7,"strong"),e._uU(8,"TRANSFER RECORD"),e.qZA()()()()(),e.TgZ(9,"p"),e._uU(10,"Transfer this record to marriage certificates"),e.qZA(),e.TgZ(11,"button",51),e.NdJ("click",function(){e.CHM(t);const s=e.MAs(15),A=e.oxw(3);return e.KtG(A.openModal(s))}),e.TgZ(12,"span",52),e._uU(13,"Transfer"),e.qZA()(),e.YNc(14,O,10,0,"ng-template",null,53,e.W1O),e.qZA(),e.BQk()}}function N(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",54)(1,"p"),e._uU(2,"Are you sure you want to delete marriage record?"),e.qZA(),e.TgZ(3,"div",56)(4,"button",57),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.confirmModal&&s.confirmModal.hide())}),e._uU(5,"No"),e.qZA(),e.TgZ(6,"button",57),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.deleteRecord())}),e._uU(7,"Yes, delete"),e.qZA()()()}}function I(i,l){if(1&i){const t=e.EpF();e.ynx(0),e.YNc(1,w,16,0,"ng-container",43),e._UZ(2,"hr",28),e.TgZ(3,"div")(4,"a",46)(5,"div",47)(6,"div")(7,"p",24)(8,"strong"),e._uU(9,"DELETE RECORD"),e.qZA()()()()(),e.TgZ(10,"p"),e._uU(11,"Permanently delete marriage record"),e.qZA(),e.TgZ(12,"button",48),e.NdJ("click",function(){e.CHM(t);const s=e.MAs(16),A=e.oxw(2);return e.KtG(A.openModal(s))}),e.TgZ(13,"span",49),e._uU(14,"Delete record"),e.qZA()(),e.YNc(15,N,8,0,"ng-template",null,50,e.W1O),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","application"===t.record.type)}}function R(i,l){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"section",17)(2,"h4",18),e._uU(3,"Husband's Information"),e.qZA(),e.TgZ(4,"div",19)(5,"h6",20)(6,"span"),e._uU(7,"Full name"),e.qZA(),e.TgZ(8,"i",21),e._uU(9,"[lastname], [firstname] [middle initial]"),e.qZA()(),e.TgZ(10,"p",22),e._uU(11),e.ALo(12,"middleInitial"),e.qZA()(),e.TgZ(13,"div",23)(14,"h6",24),e._uU(15,"Birthday"),e.qZA(),e.TgZ(16,"p",22),e._uU(17),e.qZA()(),e.TgZ(18,"div",23)(19,"h6",24),e._uU(20,"Age"),e.qZA(),e.TgZ(21,"p",22),e._uU(22),e.qZA()(),e.TgZ(23,"div",23)(24,"h6",24),e._uU(25,"Sex"),e.qZA(),e.TgZ(26,"p",22),e._uU(27),e.qZA()(),e.TgZ(28,"div",23)(29,"h6",24),e._uU(30,"Nationality"),e.qZA(),e.TgZ(31,"p",22),e._uU(32),e.qZA()(),e.TgZ(33,"div",23)(34,"h6",24),e._uU(35,"Religion"),e.qZA(),e.TgZ(36,"p",22),e._uU(37),e.qZA()(),e.TgZ(38,"div",23)(39,"h6",24),e._uU(40,"Occupation"),e.qZA(),e.TgZ(41,"p",22),e._uU(42),e.qZA()(),e.TgZ(43,"div",23)(44,"h6",24),e._uU(45,"Civil status"),e.qZA(),e.TgZ(46,"p",22),e._uU(47),e.qZA()(),e.TgZ(48,"div",23)(49,"h6",24),e._uU(50,"Residence"),e.qZA(),e.TgZ(51,"p",22),e._uU(52),e.qZA()()(),e.TgZ(53,"h5",25),e._uU(54,"Parent's information"),e.qZA(),e.TgZ(55,"section",26)(56,"div",23)(57,"h6",24),e._uU(58,"Father's name"),e.qZA(),e.TgZ(59,"p",22),e._uU(60),e.qZA()(),e.TgZ(61,"div",23)(62,"h6",24),e._uU(63,"Father's nationality"),e.qZA(),e.TgZ(64,"p",22),e._uU(65),e.qZA()(),e.TgZ(66,"div",23)(67,"h6",24),e._uU(68,"Mother's name"),e.qZA(),e.TgZ(69,"p",22),e._uU(70),e.qZA()(),e.TgZ(71,"div",23)(72,"h6",24),e._uU(73,"Mother's nationality"),e.qZA(),e.TgZ(74,"p",22),e._uU(75),e.qZA()()(),e.TgZ(76,"h5",25),e._uU(77,"Person who gave consent of advice"),e.qZA(),e.TgZ(78,"section",26)(79,"div",23)(80,"h6",24),e._uU(81,"Name"),e.qZA(),e.TgZ(82,"p",22),e._uU(83),e.qZA()(),e.TgZ(84,"div",23)(85,"h6",24),e._uU(86,"Relation"),e.qZA(),e.TgZ(87,"p",27),e._uU(88),e.qZA()(),e.TgZ(89,"div",19)(90,"h6",24),e._uU(91,"Address"),e.qZA(),e.TgZ(92,"p",27),e._uU(93),e.qZA()()(),e._UZ(94,"hr",28),e.TgZ(95,"h4",29),e._uU(96,"Wife's information"),e.qZA(),e.TgZ(97,"section",26)(98,"div",19)(99,"h6",20)(100,"span"),e._uU(101,"Full name"),e.qZA(),e.TgZ(102,"i",21),e._uU(103,"[lastname], [firstname] [middle initial]"),e.qZA()(),e.TgZ(104,"p",22),e._uU(105),e.ALo(106,"middleInitial"),e.qZA()(),e.TgZ(107,"div",23)(108,"h6",24),e._uU(109,"Date of birth"),e.qZA(),e.TgZ(110,"p",22),e._uU(111),e.qZA()(),e.TgZ(112,"div",23)(113,"h6",24),e._uU(114,"Age"),e.qZA(),e.TgZ(115,"p",22),e._uU(116),e.qZA()(),e.TgZ(117,"div",23)(118,"h6",24),e._uU(119,"Sex"),e.qZA(),e.TgZ(120,"p",22),e._uU(121),e.qZA()(),e.TgZ(122,"div",23)(123,"h6",24),e._uU(124,"Nationality"),e.qZA(),e.TgZ(125,"p",22),e._uU(126),e.qZA()(),e.TgZ(127,"div",23)(128,"h6",24),e._uU(129,"Religion"),e.qZA(),e.TgZ(130,"p",22),e._uU(131),e.qZA()(),e.TgZ(132,"div",23)(133,"h6",24),e._uU(134,"Occupation"),e.qZA(),e.TgZ(135,"p",22),e._uU(136),e.qZA()(),e.TgZ(137,"div",23)(138,"h6",24),e._uU(139,"Civil status"),e.qZA(),e.TgZ(140,"p",22),e._uU(141),e.qZA()(),e.TgZ(142,"div",23)(143,"h6",24),e._uU(144,"Residence"),e.qZA(),e.TgZ(145,"p",22),e._uU(146),e.qZA()()(),e.TgZ(147,"h5",29),e._uU(148,"Parent's Information"),e.qZA(),e.TgZ(149,"section",26)(150,"div",23)(151,"h6",24),e._uU(152,"Father's name"),e.qZA(),e.TgZ(153,"p",22),e._uU(154),e.qZA()(),e.TgZ(155,"div",23)(156,"h6",24),e._uU(157,"Father's nationality"),e.qZA(),e.TgZ(158,"p",22),e._uU(159),e.qZA()(),e.TgZ(160,"div",23)(161,"h6",24),e._uU(162,"Mother's name"),e.qZA(),e.TgZ(163,"p",22),e._uU(164),e.qZA()(),e.TgZ(165,"div",23)(166,"h6",24),e._uU(167,"Mother's nationality"),e.qZA(),e.TgZ(168,"p",22),e._uU(169),e.qZA()()(),e.TgZ(170,"h5",25),e._uU(171,"Person who gave consent of advice"),e.qZA(),e.TgZ(172,"section",26)(173,"div",23)(174,"h6",24),e._uU(175,"Name"),e.qZA(),e.TgZ(176,"p",22),e._uU(177),e.qZA()(),e.TgZ(178,"div",23)(179,"h6",24),e._uU(180,"Relation"),e.qZA(),e.TgZ(181,"p",27),e._uU(182),e.qZA()(),e.TgZ(183,"div",19)(184,"h6",24),e._uU(185,"Address"),e.qZA(),e.TgZ(186,"p",27),e._uU(187),e.qZA()()(),e._UZ(188,"hr",28),e.TgZ(189,"h4",29),e._uU(190,"Marriage Information"),e.qZA(),e.TgZ(191,"section",26)(192,"div",23)(193,"h6",24),e._uU(194,"Place"),e.qZA(),e.TgZ(195,"p",22),e._uU(196),e.qZA()(),e.TgZ(197,"div",23)(198,"h6",24),e._uU(199,"Date and time"),e.qZA(),e.TgZ(200,"p",22),e._uU(201),e.qZA()(),e.TgZ(202,"div",23)(203,"h6",24),e._uU(204,"License number"),e.qZA(),e.TgZ(205,"p",22),e._uU(206),e.qZA()(),e.TgZ(207,"div",23)(208,"h6",24),e._uU(209,"Date issued"),e.qZA(),e.TgZ(210,"p",22),e._uU(211),e.qZA()()(),e.TgZ(212,"h5",25),e._uU(213,"1st witness"),e.qZA(),e.TgZ(214,"section",26)(215,"div",23)(216,"h6",24),e._uU(217,"Name"),e.qZA(),e.TgZ(218,"p",22),e._uU(219),e.qZA()(),e.TgZ(220,"div",23)(221,"h6",24),e._uU(222,"Address"),e.qZA(),e.TgZ(223,"p",22),e._uU(224),e.qZA()()(),e.TgZ(225,"h5",25),e._uU(226,"1st witness"),e.qZA(),e.TgZ(227,"section",26)(228,"div",23)(229,"h6",24),e._uU(230,"Name"),e.qZA(),e.TgZ(231,"p",22),e._uU(232),e.qZA()(),e.TgZ(233,"div",23)(234,"h6",24),e._uU(235,"Address"),e.qZA(),e.TgZ(236,"p",22),e._uU(237),e.qZA()()(),e._UZ(238,"hr",30),e.TgZ(239,"h4",18),e._uU(240,"Other information"),e.qZA(),e.TgZ(241,"section",26)(242,"div",23)(243,"h6",24),e._uU(244,"Book number"),e.qZA(),e.TgZ(245,"p",22),e._uU(246),e.qZA()(),e.TgZ(247,"div",23)(248,"h6",24),e._uU(249,"Page number"),e.qZA(),e.TgZ(250,"p",22),e._uU(251),e.qZA()(),e.TgZ(252,"div",23)(253,"h6",24),e._uU(254,"Application registry number"),e.qZA(),e.TgZ(255,"p",22),e._uU(256),e.qZA()(),e.YNc(257,y,5,1,"div",31),e.TgZ(258,"div",23)(259,"h6",24),e._uU(260,"Registration date"),e.qZA(),e.TgZ(261,"p",22),e._uU(262),e.qZA()(),e.TgZ(263,"div",32)(264,"h6",24),e._uU(265,"Remarks"),e.qZA(),e.TgZ(266,"p",22),e._uU(267),e.qZA()()(),e._UZ(268,"hr",30),e.TgZ(269,"h4",18),e._uU(270,"Attachments"),e.qZA(),e.TgZ(271,"section",33),e._UZ(272,"attachment-list",34),e.qZA(),e.TgZ(273,"div"),e._UZ(274,"hr",30),e.TgZ(275,"h4",18),e._uU(276,"Generate report"),e.qZA(),e.TgZ(277,"p"),e._uU(278,"Select type of document"),e.qZA(),e.TgZ(279,"div")(280,"select",35),e.NdJ("ngModelChange",function(s){e.CHM(t);const A=e.oxw();return e.KtG(A.reportOption=s)}),e.TgZ(281,"option",36),e._uU(282,"Choose..."),e.qZA(),e.TgZ(283,"option",37),e._uU(284,"CCR Form No. 3A"),e.qZA(),e.TgZ(285,"option",38),e._uU(286,"City Form No. 94"),e.qZA(),e.TgZ(287,"option",39),e._uU(288,"Form No. 10"),e.qZA(),e.TgZ(289,"option",40),e._uU(290,"Municipal Form No. 90 (Form No. 2)"),e.qZA(),e.TgZ(291,"option",41),e._uU(292,"Municipal Form No. 97"),e.qZA()()(),e.YNc(293,M,3,0,"button",42),e.qZA(),e.YNc(294,I,17,1,"ng-container",43),e.BQk()}if(2&i){const t=e.oxw();e.xp6(11),e.lnq("",t.record.husbandLastName||"\u2014",", ",t.record.husbandFirstName||"\u2014"," ",e.lcZ(12,55,t.record.husbandMiddleName),""),e.xp6(6),e.Oqu(t.record.husbandBirthday||"\u2014"),e.xp6(5),e.Oqu(t.record.husbandAge||"\u2014"),e.xp6(5),e.Oqu(t.record.husbandSex||"\u2014"),e.xp6(5),e.Oqu(t.record.husbandNationality||"\u2014"),e.xp6(5),e.Oqu(t.record.husbandReligion||"\u2014"),e.xp6(5),e.Oqu(t.record.husbandOccupation||"\u2014"),e.xp6(5),e.Oqu(t.record.husbandCivilStatus||"\u2014"),e.xp6(5),e.Oqu(t.record.husbandResidence||"\u2014"),e.xp6(8),e.Oqu(t.record.husbandFatherName||"\u2014"),e.xp6(5),e.Oqu(t.record.husbandFatherNationality||"\u2014"),e.xp6(5),e.Oqu(t.record.husbandMotherName||"\u2014"),e.xp6(5),e.Oqu(t.record.husbandMotherNationality||"\u2014"),e.xp6(8),e.Oqu(t.record.husbandPersonName||"\u2014"),e.xp6(5),e.Oqu(t.record.husbandPersonRelation||"\u2014"),e.xp6(5),e.Oqu(t.record.husbandPersonAddress||"\u2014"),e.xp6(12),e.lnq("",t.record.wifeLastName||"\u2014",", ",t.record.wifeFirstName||"\u2014"," ",e.lcZ(106,57,t.record.wifeMiddleName),""),e.xp6(6),e.Oqu(t.record.wifeBirthday||"\u2014"),e.xp6(5),e.Oqu(t.record.wifeAge||"\u2014"),e.xp6(5),e.Oqu(t.record.wifeSex||"\u2014"),e.xp6(5),e.Oqu(t.record.wifeNationality||"\u2014"),e.xp6(5),e.Oqu(t.record.wifeReligion||"\u2014"),e.xp6(5),e.Oqu(t.record.wifeOccupation||"\u2014"),e.xp6(5),e.Oqu(t.record.wifeCivilStatus||"\u2014"),e.xp6(5),e.Oqu(t.record.wifeResidence||"\u2014"),e.xp6(8),e.Oqu(t.record.wifeFatherName||"\u2014"),e.xp6(5),e.Oqu(t.record.wifeFatherNationality||"\u2014"),e.xp6(5),e.Oqu(t.record.wifeMotherName||"\u2014"),e.xp6(5),e.Oqu(t.record.wifeMotherNationality||"\u2014"),e.xp6(8),e.Oqu(t.record.wifePersonName||"\u2014"),e.xp6(5),e.Oqu(t.record.wifePersonRelation||"\u2014"),e.xp6(5),e.Oqu(t.record.wifePersonAddress||"\u2014"),e.xp6(9),e.Oqu(t.record.place||"\u2014"),e.xp6(5),e.AsE("",t.record.date||"\u2014"," \xb7 ",t.record.time||"\u2014",""),e.xp6(5),e.Oqu(t.record.licenseNumber||"\u2014"),e.xp6(5),e.Oqu(t.record.dateIssued||"\u2014"),e.xp6(8),e.Oqu(t.record.firstWitness||"\u2014"),e.xp6(5),e.Oqu(t.record.firstWitnessAddress||"\u2014"),e.xp6(8),e.Oqu(t.record.secondWitness||"\u2014"),e.xp6(5),e.Oqu(t.record.secondWitnessAddress||"\u2014"),e.xp6(9),e.Oqu(t.record.bookNumber||"\u2014"),e.xp6(5),e.Oqu(t.record.pageNumber||"\u2014"),e.xp6(5),e.Oqu(t.record.initialRegistrationNumber||"\u2014"),e.xp6(1),e.Q6J("ngIf","certificate"===t.record.type),e.xp6(5),e.Oqu(t.record.registrationDate||"\u2014"),e.xp6(5),e.Oqu(t.record.remarks||"\u2014"),e.xp6(5),e.Q6J("attachments",t.record.attachments),e.xp6(8),e.Q6J("ngModel",t.reportOption),e.xp6(13),e.Q6J("ngIf",t.reportOption),e.xp6(1),e.Q6J("ngIf",t.marriageAdmin)}}function E(i,l){1&i&&e._uU(0,"Loading...")}const P=[{path:"",component:(()=>{class i{constructor(t,a,s,A,D,V,k,Y){this.sqlService=t,this.toast=a,this.activatedRoute=s,this.loading=A,this.modalService=D,this.router=V,this.authService=k,this.viewMarriagePageNav=Y,this.marriageAdmin=!1,this.reportOption="",this.skipLocationChange=c.N.production}ngOnInit(){this.initializeCurrentUser(),this.initializeRecord()}initializeCurrentUser(){var t;return(0,o.mG)(this,void 0,void 0,function*(){try{const a=yield this.authService.getCurrentUserSnapshot();if(null===a)throw{code:"unauthenticated",message:"User is not currently logged in"};const s=null!==(t=a.roles)&&void 0!==t?t:[];this.marriageAdmin=s.includes("admin")||s.includes("marriage-admin")}catch(a){console.error(a)}})}initializeRecord(){return(0,o.mG)(this,void 0,void 0,function*(){try{const t=this.activatedRoute.snapshot.params.id,a=yield this.sqlService.table("marriage").row(t).get(),s=a.attachments.filter(A=>A);this.record=Object.assign(Object.assign({},a),{attachments:s,wifeSuffix:r.$.getDisplayValue(r.$.suffixOptions,a.wifeSuffix),wifeSex:r.$.getDisplayValue(r.$.suffixOptions,a.wifeSex),wifeCivilStatus:r.$.getDisplayValue(r.$.suffixOptions,a.wifeCivilStatus),husbandSuffix:r.$.getDisplayValue(r.$.suffixOptions,a.husbandSuffix),husbandSex:r.$.getDisplayValue(r.$.suffixOptions,a.husbandSex),husbandCivilStatus:r.$.getDisplayValue(r.$.suffixOptions,a.husbandCivilStatus)})}catch(t){this.toast.presentError(t)}})}openModal(t){this.confirmModal=this.modalService.show(t,{class:"modal-sm"})}transferRecord(){return(0,o.mG)(this,void 0,void 0,function*(){this.confirmModal&&this.confirmModal.hide();const t=this.loading.create();try{const a=this.activatedRoute.snapshot.params.id;yield this.sqlService.table("marriage").row(a).ref.update("type","certificate"),this.initializeRecord(),t.hide()}catch(a){yield t.hide(),this.toast.presentError(a)}})}deleteRecord(){return(0,o.mG)(this,void 0,void 0,function*(){this.confirmModal&&this.confirmModal.hide();const t=this.loading.create();try{const a=this.activatedRoute.snapshot.params.id;yield this.sqlService.table("marriage").row(a).delete(),yield this.router.navigate(["../"],{relativeTo:this.activatedRoute}),t.hide()}catch(a){yield t.hide(),this.toast.presentError(a)}})}generateReport(){return(0,o.mG)(this,void 0,void 0,function*(){try{if(!this.record)return;if(null===(yield this.authService.getCurrentUserSnapshot()))throw{code:"unauthenticated",message:"User is not currently logged in"};switch(this.reportOption){case"CCR Form No. 3A":this.viewMarriagePageNav.navigateForward(["generate-ccr-form-no-3a"],{relativeTo:this.activatedRoute,skipLocationChange:c.N.production});break;case"City Form No. 94":this.viewMarriagePageNav.navigateForward(["generate-city-form-no-94"],{relativeTo:this.activatedRoute,skipLocationChange:c.N.production});break;case"Form No. 10":this.viewMarriagePageNav.navigateForward(["generate-form-no-10"],{relativeTo:this.activatedRoute,skipLocationChange:c.N.production});break;case"Municipal Form No. 90 (Form No. 2)":this.viewMarriagePageNav.navigateBack(["generate-municipal-form-no-90-form-no-2"],{relativeTo:this.activatedRoute,skipLocationChange:c.N.production});break;case"Municipal Form No. 97":this.viewMarriagePageNav.navigateBack(["generate-municipal-form-no-97"],{relativeTo:this.activatedRoute,skipLocationChange:c.N.production});break;default:this.toast.present(`${this.reportOption} is not supported`)}}catch(t){console.error(t)}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.a),e.Y36(m.k),e.Y36(g.gz),e.Y36(v.b),e.Y36(h.tT),e.Y36(g.F0),e.Y36(Z.e),e.Y36(_.SH))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-view-marriage"]],decls:19,vars:5,consts:[[1,"bg-light","border-bottom"],[1,"wrapper","px-xl-5","px-4"],[1,"d-flex","align-items-center","px-xl-5","pt-5"],[1,"mb-0","me-auto","text-dark","fs-2-large","text-primary","text-decoration-none","lh-1"],[1,"fs-2-large","text-primary","fw-bold"],["class","fs-2-large text-primary  fw-bold",4,"ngIf"],["type","button","class","btn btn-sm btn-default d-flex align-items-center text-decoration-none px-4 py-2 rounded-3 fs-5 pe-0","routerLink","edit",3,"skipLocationChange",4,"ngIf"],[1,"px-xl-5","pt-3","pb-3","d-flex","justify-content-between","align-items-start"],["type","button","routerLink","../",1,"btn","btn-sm","btn-link","d-flex","align-items-center","text-decoration-none","text-info","ps-0",3,"skipLocationChange"],[1,"material-icons","fs-3","me-2"],[1,"fs-5"],[1,"px-xl-5","pb-5"],[1,"px-xl-5","pb-5","px-4","sd-section"],[4,"ngIf","ngIfElse"],["loadingState",""],["type","button","routerLink","edit",1,"btn","btn-sm","btn-default","d-flex","align-items-center","text-decoration-none","px-4","py-2","rounded-3","fs-5","pe-0",3,"skipLocationChange"],[1,"material-icons","fs-3","ms-2"],[1,"row","mt-5","g-3"],[1,"fw-semibold","mb-4"],[1,"col-12"],[1,"mb-0","d-flex","align-items-center","gap-3"],[1,"mt-0","mb-0","opacity-50","fs-4-small"],[1,"mb-0","opacity-75"],[1,"col-6"],[1,"mb-0"],[1,"mt-5","fw-semibold","mb-4","fs-5-large"],[1,"row","g-3"],[1,"mb-0","opacity-75","text-capitaldize"],[1,"mt-5","mb-4"],[1,"mt-5","fw-semibold","mb-4"],[1,"mt-5","mb-5"],["class","col-6",4,"ngIf"],[1,"col-12","mt-5"],[1,"g-3"],[3,"attachments"],[1,"form-select",3,"ngModel","ngModelChange"],["value","","disabled",""],["value","CCR Form No. 3A"],["value","City Form No. 94"],["value","Form No. 10"],["value","Municipal Form No. 90 (Form No. 2)"],["value","Municipal Form No. 97"],["type","button","class","mt-3 btn btn-info btn-sm d-flex align-items-center text-decoration-none px-4 py-2 rounded-3 fs-5",3,"click",4,"ngIf"],[4,"ngIf"],["type","button",1,"mt-3","btn","btn-info","btn-sm","d-flex","align-items-center","text-decoration-none","px-4","py-2","rounded-3","fs-5",3,"click"],[1,"text-light","fw-semibold"],["role","button","aria-current","true",1,"list-group-item","list-group-item-action","d-flex","gap-3","py-3"],[1,"d-flex","gap-2","w-100","justify-content-between"],["type","button",1,"mt-3","btn","btn-sm","btn-light","border","d-flex","align-items-center","text-decoration-none","px-4","py-2","rounded-3","fs-5",3,"click"],[1,"text-danger","fw-semibold"],["deleteTemplate",""],["type","button",1,"mt-3","btn","btn-sm","btn-info","border","d-flex","align-items-center","text-decoration-none","px-4","py-2","rounded-3","fs-5",3,"click"],[1,"fw-semibold"],["transferTemplate",""],[1,"modal-body","text-center","rounded-4"],[1,"fw-bold"],[1,"d-flex"],["type","button",1,"flex-grow-1","btn","btn-default",3,"click"]],template:function(t,a){if(1&t&&(e.TgZ(0,"header",0)(1,"div",1)(2,"section",2)(3,"a",3)(4,"span",4),e._uU(5,"Marriage"),e.qZA(),e.YNc(6,q,2,1,"span",5),e.qZA(),e.YNc(7,b,5,1,"button",6),e.qZA(),e.TgZ(8,"section",7)(9,"button",8)(10,"span",9),e._uU(11,"arrow_back"),e.qZA(),e.TgZ(12,"span",10),e._uU(13,"Back"),e.qZA()()()()(),e.TgZ(14,"main",11)(15,"main",12),e.YNc(16,R,295,59,"ng-container",13),e.qZA()(),e.YNc(17,E,1,0,"ng-template",null,14,e.W1O)),2&t){const s=e.MAs(18);e.xp6(6),e.Q6J("ngIf",a.record),e.xp6(1),e.Q6J("ngIf",a.marriageAdmin),e.xp6(2),e.Q6J("skipLocationChange",a.skipLocationChange),e.xp6(7),e.Q6J("ngIf",a.record)("ngIfElse",s)}},dependencies:[d.O5,u.YN,u.Kr,u.EJ,u.JJ,u.On,_.YI,g.rH,p.c,T.V],styles:[".form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{min-height:48px;border-radius:8px!important;max-width:300px}select[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content}"]}),i})()}];let C=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[g.Bz.forChild(P),g.Bz]}),i})();var L=n(5503),S=n(8398);let F=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[d.ez,u.u5,_.Pc,C,u.UX,L.D,S.q]}),i})()},5031:(U,f,n)=>{n.d(f,{I:()=>r});var d=n(655),u=n(9808),_=n(3905),g=n(2340),o=n(4893),c=n(520);let r=(()=>{class e{constructor(m,v){var h,Z;this.baseHref=m,this._http=v,this.hostname=null!==(h=g.N.hostname)&&void 0!==h?h:location.hostname,this.pathname=null!==(Z=g.N.ci.pathname)&&void 0!==Z?Z:this.baseHref+"api/"}uploadFile(m,v,h="birth"){return(0,d.mG)(this,void 0,void 0,function*(){if(!m)return;const Z=`${Date.now().toString(32)}_${Math.random().toString(16)}`.replace(/\./g,""),p=`${h}-u${v||"0"}-${Z}.pdf`,T=new FormData;T.append("file",m,p);const b=this._http.post(`http://${this.hostname}${this.pathname}/file`,T);return(yield(0,_.z)(b)).data.upload_data.file_name})}downloadFile(m,v,h){return(0,d.mG)(this,void 0,void 0,function*(){const Z=this._http.get(`http://${this.hostname}${this.pathname}file/${m}`,{responseType:"blob"}),p=yield(0,_.z)(Z),T=new Blob([p],{type:p.type});this.cheatDownload(`Attachment ${v}`,T,h)})}cheatDownload(m,v,h){let Z=window.URL.createObjectURL(v),p=document.createElement("a");document.body.appendChild(p),p.setAttribute("style","display: none"),p.href=Z,h?p.target="_blank":p.download=m,p.click(),window.URL.revokeObjectURL(Z),p.remove()}}return e.\u0275fac=function(m){return new(m||e)(o.LFG(u.mr),o.LFG(c.eN))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},5219:(U,f,n)=>{n.d(f,{b:()=>g});var d=n(4893);let u=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=d.Xpm({type:o,selectors:[["app-loading"]],decls:2,vars:0,consts:[[1,"p-3","loading-dots"]],template:function(r,e){1&r&&(d.TgZ(0,"div",0),d._uU(1,"Please wait"),d.qZA())}}),o})();var _=n(3500);let g=(()=>{class o{constructor(r){this.modalService=r}create(){const r=this.modalService.show(u,{class:"modal-sm",backdrop:"static",keyboard:!1,animated:!1});return Object.assign(Object.assign({},r),{hide:()=>new Promise(e=>{setTimeout(()=>{r.hide(),e()},300)})})}}return o.\u0275fac=function(r){return new(r||o)(d.LFG(_.tT))},o.\u0275prov=d.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()}}]);