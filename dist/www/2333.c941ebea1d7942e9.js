"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2333],{1735:(P,v,n)=>{n.d(v,{p:()=>s});var c=n(655),h=n(4893),p=n(7556),l=n(7614);let s=(()=>{class t{constructor(d,f){this.authService=d,this.router=f}canActivate(d,f){var g,m;return(0,c.mG)(this,void 0,void 0,function*(){try{const u=yield this.authService.getCurrentUserSnapshot();if(null===u)throw"unauthenticated";const C=null!==(g=u.roles)&&void 0!==g?g:[];return!!(null!==(m=d.data.roleContains)&&void 0!==m?m:[]).some(M=>C.includes(M))||this.router.createUrlTree(["/not-allowed"])}catch(u){return this.router.createUrlTree("unauthenticated"===u?["/"]:["/error"])}})}}return t.\u0275fac=function(d){return new(d||t)(h.LFG(p.e),h.LFG(l.F0))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},2333:(P,v,n)=>{n.r(v),n.d(v,{MainPageModule:()=>w});var c=n(9808),h=n(2382),p=n(8058),l=n(7614),s=n(1735),t=n(4893),x=n(655),d=n(2805),f=n(7391),g=n(7556);function m(e,o){1&e&&(t.TgZ(0,"li",23)(1,"a",10)(2,"h4",11),t._uU(3,"Birth"),t.qZA()()())}function u(e,o){1&e&&(t.TgZ(0,"li",24)(1,"a",10)(2,"h4",11),t._uU(3,"Marriage Licensing"),t.qZA()()())}function C(e,o){1&e&&(t.TgZ(0,"li",25)(1,"a",10)(2,"h4",11),t._uU(3,"Marriage Certificate"),t.qZA()()())}function A(e,o){1&e&&(t.TgZ(0,"li",26)(1,"a",10)(2,"h4",11),t._uU(3,"Death"),t.qZA()()())}function y(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"header",17)(2,"p",18),t._uU(3,"MANAGE"),t.qZA()(),t.TgZ(4,"ul",14),t.YNc(5,m,4,0,"li",19),t.YNc(6,u,4,0,"li",20),t.YNc(7,C,4,0,"li",21),t.YNc(8,A,4,0,"li",22),t.qZA(),t.BQk()),2&e){const i=t.oxw();t.xp6(5),t.Q6J("ngIf",i.birthViewer),t.xp6(1),t.Q6J("ngIf",i.marriageViewer),t.xp6(1),t.Q6J("ngIf",i.marriageViewer),t.xp6(1),t.Q6J("ngIf",i.deathViewer)}}function M(e,o){1&e&&(t.TgZ(0,"li",29)(1,"a",10)(2,"h4",11),t._uU(3,"Users"),t.qZA()()())}function b(e,o){1&e&&(t.TgZ(0,"li",30)(1,"a",10)(2,"h4",11),t._uU(3,"Audit logs"),t.qZA()()())}function Z(e,o){if(1&e&&(t.ynx(0),t._UZ(1,"hr",13),t.TgZ(2,"header",17)(3,"p",18),t._uU(4,"ADMIN"),t.qZA()(),t.TgZ(5,"ul",14),t.YNc(6,M,4,0,"li",27),t.YNc(7,b,4,0,"li",28),t.qZA(),t.BQk()),2&e){const i=t.oxw();t.xp6(6),t.Q6J("ngIf",i.userViewer),t.xp6(1),t.Q6J("ngIf",i.auditLogsViewer)}}let L=(()=>{class e{constructor(i,r){this.router=i,this.authService=r,this.today=new Date,this.birthViewer=!1,this.marriageViewer=!1,this.deathViewer=!1,this.userViewer=!1,this.auditLogsViewer=!1}ngOnInit(){this.initializeCurrentUser(),this.initializeDate()}ngOnDestroy(){f.c.unsubscribe(this.tickSubscription)}initializeDate(){this.tickSubscription=(0,d.H)(1e3,1e3).subscribe(()=>{this.today=new Date})}initializeCurrentUser(){var i;return(0,x.mG)(this,void 0,void 0,function*(){try{const r=yield this.authService.getCurrentUserSnapshot();if(null===r)throw{code:"unauthenticated",message:"User is not currently logged in"};this.currentUser=r;const a=null!==(i=r.roles)&&void 0!==i?i:[];this.birthViewer=a.includes("admin")||a.includes("birth-admin")||a.includes("birth-viewer"),this.marriageViewer=a.includes("admin")||a.includes("marriage-admin")||a.includes("marriage-viewer"),this.deathViewer=a.includes("admin")||a.includes("death-admin")||a.includes("death-viewer"),this.userViewer=a.includes("admin")||a.includes("user-admin"),this.auditLogsViewer=a.includes("admin")||a.includes("audit-logs-admin")}catch(r){console.error(r)}})}signOut(){this.authService.signOut(),this.router.navigate(["/login"])}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(l.F0),t.Y36(g.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-menu-content"]],decls:30,vars:15,consts:[[1,"position-fixed","bg-side-panel","top-0","bottom-0"],[1,"wrapper","ms-auto","pt-5"],[1,"px-4","mb-5"],["src","assets/LCR-Logo.png","alt","",1,"logo-img"],[1,"mt-5","d-flex","align-items-center","text-light"],[1,"fw-bold","fs-1-small"],[1,"fw-bold","ms-2"],[1,"fw-bold","text-light"],[1,"nav","nav-pills","flex-column","mb-4","px-3"],["routerLink","dashboard","routerLinkActive","active","role","button",1,"nav-item","py-2","rounded-3","px-2"],[1,"d-flex","align-items-center","text-decoration-none","text-light","text","fw-normal"],[1,"fw-bold","my-2","fs-3-large"],[4,"ngIf"],[1,"ms-4","text-white-50"],[1,"nav","nav-pills","flex-column","mb-auto","px-3"],["role","button",1,"nav-item","py-2","rounded-2","px-2",3,"click"],[1,"text-secondary","mt-2","fs-4-large","mx-3","px-2"],[1,"px-4"],[1,"text-secondary","fs-4-large","fw-semibold","mb-3"],["class","nav-item py-2 rounded-3 px-2","routerLink","birth","routerLinkActive","active","role","button",4,"ngIf"],["class","nav-item py-2 rounded-3 px-2","routerLink","marriage/application","routerLinkActive","active","role","button",4,"ngIf"],["class","nav-item py-2 rounded-3 px-2","routerLink","marriage/certificate","routerLinkActive","active","role","button",4,"ngIf"],["class","nav-item py-2 rounded-3 px-2","routerLink","death","routerLinkActive","active","role","button",4,"ngIf"],["routerLink","birth","routerLinkActive","active","role","button",1,"nav-item","py-2","rounded-3","px-2"],["routerLink","marriage/application","routerLinkActive","active","role","button",1,"nav-item","py-2","rounded-3","px-2"],["routerLink","marriage/certificate","routerLinkActive","active","role","button",1,"nav-item","py-2","rounded-3","px-2"],["routerLink","death","routerLinkActive","active","role","button",1,"nav-item","py-2","rounded-3","px-2"],["class","nav-item py-2 rounded-3 px-2","routerLink","users","routerLinkActive","active","role","button",4,"ngIf"],["class","nav-item py-2 rounded-3 px-2","routerLink","audit-logs","routerLinkActive","active","role","button",4,"ngIf"],["routerLink","users","routerLinkActive","active","role","button",1,"nav-item","py-2","rounded-3","px-2"],["routerLink","audit-logs","routerLinkActive","active","role","button",1,"nav-item","py-2","rounded-3","px-2"]],template:function(i,r){1&i&&(t.TgZ(0,"main",0)(1,"div",1)(2,"header",2),t._UZ(3,"img",3),t.TgZ(4,"div",4)(5,"h1",5),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"h5",6),t._uU(9),t.ALo(10,"date"),t.qZA()(),t.TgZ(11,"h5",7),t._uU(12),t.ALo(13,"date"),t.qZA()(),t.TgZ(14,"ul",8)(15,"li",9)(16,"a",10)(17,"h4",11),t._uU(18,"Dashboard"),t.qZA()()()(),t.YNc(19,y,9,4,"ng-container",12),t.YNc(20,Z,8,2,"ng-container",12),t._UZ(21,"hr",13),t.TgZ(22,"ul",14)(23,"li",15),t.NdJ("click",function(){return r.signOut()}),t.TgZ(24,"a",10)(25,"h4",11),t._uU(26,"Sign out"),t.qZA()()()(),t._UZ(27,"hr",13),t.TgZ(28,"p",16),t._uU(29),t.qZA()()()),2&i&&(t.xp6(6),t.Oqu(t.xi3(7,6,r.today,"h:mm:ss")),t.xp6(3),t.Oqu(t.xi3(10,9,r.today,"a")),t.xp6(3),t.Oqu(t.xi3(13,12,r.today,"MMM d")),t.xp6(7),t.Q6J("ngIf",r.birthViewer||r.marriageViewer||r.deathViewer),t.xp6(1),t.Q6J("ngIf",r.userViewer||r.auditLogsViewer),t.xp6(9),t.hij("@",r.currentUser?r.currentUser.username:"Admin",""))},dependencies:[c.O5,p.YI,l.rH,l.Od,c.uU],styles:[".logo-img[_ngcontent-%COMP%]{width:80px;height:80px}main[_ngcontent-%COMP%]{width:var(--width);min-width:var(--min-width);overflow-y:scroll;height:100%}main[_ngcontent-%COMP%]:hover{--thumbBackground: #808080}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:rgba(var(--bs-primary-rgb),var(--bs-bg-opacity))!important}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:8px;background:var(--thumbBackground, var(--bs-primary-rgb));-webkit-transition:all 1s ease;transition:all 1s ease}.wrapper[_ngcontent-%COMP%]{max-width:var(--min-width)}.icon-svg[_ngcontent-%COMP%]{--size: 14px;width:var(--size);height:var(--size);color:currentColor;fill:currentColor}li[_ngcontent-%COMP%]{border-radius:4px}.nav-item.active[_ngcontent-%COMP%]{background-color:#000}hr[_ngcontent-%COMP%]:first-child{display:none}"]}),e})();const T=[{path:"",component:(()=>{class e{constructor(){this.appPages=[{title:"Inbox",url:"/folder/Inbox",icon:"mail"},{title:"Outbox",url:"/folder/Outbox",icon:"paper-plane"},{title:"Favorites",url:"/folder/Favorites",icon:"heart"},{title:"Archived",url:"/folder/Archived",icon:"archive"},{title:"Trash",url:"/folder/Trash",icon:"trash"},{title:"Spam",url:"/folder/Spam",icon:"warning"}],this.labels=["Family","Friends","Notes","Work","Travel","Reminders"]}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-main"]],decls:5,vars:0,consts:[[1,"content","d-flex","align-content-stretch"],[1,"d-flex","flex-column","flex-shrink-0","position-relative"],[1,"flex-grow-1","overflow-x-hidden"]],template:function(i,r){1&i&&(t.TgZ(0,"div",0)(1,"aside",1),t._UZ(2,"app-menu-content"),t.qZA(),t.TgZ(3,"main",2),t._UZ(4,"router-outlet"),t.qZA()())},dependencies:[l.lC,L],styles:[".content[_ngcontent-%COMP%]{min-height:100vh}aside[_ngcontent-%COMP%]{--width: 25vw;--min-width: 320px;width:var(--width);min-width:var(--min-width)}.overflow-x-hidden[_ngcontent-%COMP%]{overflow-x:hidden}"]}),e})(),children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",loadChildren:()=>Promise.all([n.e(8592),n.e(6547)]).then(n.bind(n,6547)).then(e=>e.DashboardPageModule)},{path:"birth",loadChildren:()=>Promise.all([n.e(8592),n.e(863)]).then(n.bind(n,7692)).then(e=>e.BirthPageModule),canActivate:[s.p],data:{roleContains:["admin","birth-viewer","birth-admin"]}},{path:"death",loadChildren:()=>Promise.all([n.e(8592),n.e(9393)]).then(n.bind(n,9393)).then(e=>e.DeathPageModule),canActivate:[s.p],data:{roleContains:["admin","death-viewer","death-admin"]}},{path:"marriage",loadChildren:()=>Promise.all([n.e(8592),n.e(8144)]).then(n.bind(n,8144)).then(e=>e.MarriagePageModule),canActivate:[s.p],data:{roleContains:["admin","marriage-viewer","marriage-admin"]}},{path:"users",loadChildren:()=>Promise.all([n.e(8592),n.e(5103)]).then(n.bind(n,5103)).then(e=>e.UsersPageModule),canActivate:[s.p],data:{roleContains:["admin","user-admin"]}},{path:"audit-logs",loadChildren:()=>Promise.all([n.e(8592),n.e(4718)]).then(n.bind(n,4718)).then(e=>e.AuditLogsPageModule),canActivate:[s.p],data:{roleContains:["admin","audit-logs-admin"]}}]}];let U=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.Bz.forChild(T),l.Bz]}),e})(),w=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,h.u5,p.Pc,U]}),e})()}}]);