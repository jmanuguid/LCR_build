"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7377],{8398:(q,f,n)=>{n.d(f,{q:()=>p});var c=n(9808),s=n(5031),h=n(4893);let p=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:[s.I],imports:[c.ez]}),i})()},3518:(q,f,n)=>{n.d(f,{$:()=>c});let c=(()=>{class s{static getDisplayValue(p,i){const u=p.find(o=>{if(i)return o.value.toLowerCase()===i.toLowerCase()});return u?u.display:i}}return s.suffixOptions=[{value:"SR.",display:"SR."},{value:"JR.",display:"JR."},{value:"II",display:"II"},{value:"III",display:"III"},{value:"IV",display:"IV"},{value:"V",display:"V"},{value:"VI",display:"VI"},{value:"VII",display:"VII"}],s.sexOptions=[{value:"MALE",display:"MALE"},{value:"FEMALE",display:"FEMALE"}],s.birthTypeOptions=[{value:"SINGLE",display:"SINGLE"},{value:"TWINS",display:"TWINS"},{value:"TRIPLETS",display:"TRIPLETS"},{value:"QUADRUPLETS",display:"QUADRUPLETS"}],s.legitimacyOptions=[{value:"MARITAL",display:"MARITAL"},{value:"NONMARITAL",display:"NON-MARITAL"}],s.civilStatusOptions=[{value:"SINGLE",display:"SINGLE"},{value:"MARRIED",display:"MARRIED"},{value:"DIVORCED",display:"DIVORCED"},{value:"SEPERATED",display:"SEPERATED"},{value:"WIDOWED",display:"WIDOWED"}],s.corpseDisposalOptions=[{value:"BURIAL",display:"BURIAL"},{value:"CREMATION",display:"CREMATION"}],s.autopsyOptions=[{value:"YES",display:"YES"},{value:"NO",display:"NO"}],s.medicalAttendantOptions=[{value:"PHYSICIAN",display:"PHYSICIAN"},{value:"NURSE",display:"NURSE"},{value:"MIDWIFE",display:"MIDWIFE"},{value:"HILOT",display:"HILOT (Traditional Birth Attendant)"}],s.deathMedicalAttendantTitleOptions=[{value:"PRIVATEPHYSICIAN",display:"PRIVATE PHYSICIAN"},{value:"PUBLICHEALTHOFFICER",display:"PUBLIC HEALTH OFFICER"},{value:"HOSPITALAUTHORITY",display:"HOSPITAL AUTHORITY"},{value:"NONE",display:"NONE"}],s})()},7377:(q,f,n)=>{n.r(f),n.d(f,{ViewDeathPageModule:()=>V});var c=n(9808),s=n(2382),h=n(8058),p=n(7614),i=n(655),u=n(2340),o=n(3518),t=n(4893),D=n(8876),_=n(4465),T=n(5219),v=n(3500),Z=n(7556),g=n(2643),U=n(1110);function b(a,m){if(1&a&&(t.ynx(0),t.TgZ(1,"span",14),t._uU(2),t.qZA(),t.TgZ(3,"span",14),t._uU(4),t.ALo(5,"middleInitial"),t.qZA(),t.BQk()),2&a){const e=t.oxw();t.xp6(2),t.Oqu(e.record.isFetal?"Fetal death":"Death"),t.xp6(2),t.lnq("\xa0-\xa0",e.record.lastName||"\u2014",", ",e.record.firstName||"\u2014"," ",t.lcZ(5,4,e.record.middleName),"")}}function I(a,m){1&a&&(t.TgZ(0,"span",14),t._uU(1,"Death"),t.qZA())}function E(a,m){if(1&a&&(t.TgZ(0,"button",15)(1,"span"),t._uU(2,"Edit record"),t.qZA(),t.TgZ(3,"span",16),t._uU(4,"edit"),t.qZA()()),2&a){const e=t.oxw();t.Q6J("skipLocationChange",e.skipLocationChange)}}function N(a,m){if(1&a){const e=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(2);return t.KtG(l.generateReport())}),t.TgZ(1,"span",41),t._uU(2,"Generate report"),t.qZA()()}}function M(a,m){if(1&a){const e=t.EpF();t.TgZ(0,"div",47)(1,"p"),t._uU(2,"Are you sure you want to delete death record?"),t.qZA(),t.TgZ(3,"div",48)(4,"button",49),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(3);return t.KtG(l.confirmDeleteModal&&l.confirmDeleteModal.hide())}),t._uU(5,"No"),t.qZA(),t.TgZ(6,"button",49),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(3);return t.KtG(l.deleteRecord())}),t._uU(7,"Yes, delete"),t.qZA()()()}}function P(a,m){if(1&a){const e=t.EpF();t.ynx(0),t._UZ(1,"hr",32),t.TgZ(2,"div")(3,"a",42)(4,"div",43)(5,"div")(6,"p",23)(7,"strong"),t._uU(8,"DELETE RECORD"),t.qZA()()()()(),t.TgZ(9,"p"),t._uU(10,"Permanently delete death record"),t.qZA(),t.TgZ(11,"button",44),t.NdJ("click",function(){t.CHM(e);const l=t.MAs(15),A=t.oxw(2);return t.KtG(A.openModal(l))}),t.TgZ(12,"span",45),t._uU(13,"Delete record"),t.qZA()(),t.YNc(14,M,8,0,"ng-template",null,46,t.W1O),t.qZA(),t.BQk()}}function C(a,m){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"section",17)(2,"div",18)(3,"h6",19)(4,"span"),t._uU(5,"Full name"),t.qZA(),t.TgZ(6,"i",20),t._uU(7,"[lastname], [firstname] [middle initial]"),t.qZA()(),t.TgZ(8,"p",21),t._uU(9),t.ALo(10,"middleInitial"),t.qZA()(),t.TgZ(11,"div",22)(12,"h6",23),t._uU(13,"Date and time of death"),t.qZA(),t.TgZ(14,"p",21),t._uU(15),t.qZA()(),t.TgZ(16,"div",22)(17,"h6",23),t._uU(18,"Date of birth"),t.qZA(),t.TgZ(19,"p",21)(20,"span"),t._uU(21),t.qZA(),t.TgZ(22,"i"),t._uU(23),t.qZA()()(),t.TgZ(24,"div",22)(25,"h6",23),t._uU(26,"Place of death"),t.qZA(),t.TgZ(27,"p",21),t._uU(28),t.qZA()(),t.TgZ(29,"div",22)(30,"h6",23),t._uU(31,"Civil status"),t.qZA(),t.TgZ(32,"p",21),t._uU(33),t.qZA()(),t.TgZ(34,"div",22)(35,"h6",23),t._uU(36,"Religion"),t.qZA(),t.TgZ(37,"p",21),t._uU(38),t.qZA()(),t.TgZ(39,"div",22)(40,"h6",23),t._uU(41,"Nationality"),t.qZA(),t.TgZ(42,"p",21),t._uU(43),t.qZA()(),t.TgZ(44,"div",22)(45,"h6",23),t._uU(46,"Sex"),t.qZA(),t.TgZ(47,"p",21),t._uU(48),t.qZA()(),t.TgZ(49,"div",22)(50,"h6",23),t._uU(51,"Address"),t.qZA(),t.TgZ(52,"p",21),t._uU(53),t.qZA()(),t.TgZ(54,"div",22)(55,"h6",23),t._uU(56,"Occupation"),t.qZA(),t.TgZ(57,"p",21),t._uU(58),t.qZA()(),t.TgZ(59,"div",18)(60,"h6",23),t._uU(61,"Company name or address"),t.qZA(),t.TgZ(62,"p",21),t._uU(63),t.qZA()()(),t.TgZ(64,"h5",24),t._uU(65,"Surviving spouse"),t.qZA(),t.TgZ(66,"section",25)(67,"div",22)(68,"h6",23),t._uU(69,"Name"),t.qZA(),t.TgZ(70,"p",21),t._uU(71),t.qZA()(),t.TgZ(72,"div",22)(73,"h6",23),t._uU(74,"Address"),t.qZA(),t.TgZ(75,"p",21),t._uU(76),t.qZA()()(),t._UZ(77,"hr",26),t.TgZ(78,"h4",27),t._uU(79,"Death Information"),t.qZA(),t.TgZ(80,"section",25)(81,"div",18)(82,"h6",23),t._uU(83,"Type"),t.qZA(),t.TgZ(84,"p",21),t._uU(85),t.qZA()(),t.TgZ(86,"div",18)(87,"h6",23),t._uU(88,"Cause of death"),t.qZA(),t.TgZ(89,"p",21),t._uU(90),t.qZA()(),t.TgZ(91,"div",18)(92,"h6",23),t._uU(93,"Other significant conditions contributing to death"),t.qZA(),t.TgZ(94,"p",21),t._uU(95),t.qZA()()(),t.TgZ(96,"h5",24),t._uU(97,"Death by external causes"),t.qZA(),t.TgZ(98,"section",25)(99,"div",22)(100,"h6",23),t._uU(101,"Manner of death"),t.qZA(),t.TgZ(102,"p",21),t._uU(103),t.qZA()(),t.TgZ(104,"div",22)(105,"h6",23),t._uU(106,"Place of occurence"),t.qZA(),t.TgZ(107,"p",21),t._uU(108),t.qZA()()(),t.TgZ(109,"h5",24),t._uU(110,"Attendant information"),t.qZA(),t.TgZ(111,"section",25)(112,"div",22)(113,"h6",23),t._uU(114,"Name"),t.qZA(),t.TgZ(115,"p",21),t._uU(116),t.qZA()(),t.TgZ(117,"div",22)(118,"h6",23),t._uU(119,"Title"),t.qZA(),t.TgZ(120,"p",21),t._uU(121),t.qZA()(),t.TgZ(122,"div",18)(123,"h6",23),t._uU(124,"Address"),t.qZA(),t.TgZ(125,"p",21),t._uU(126),t.qZA()()(),t._UZ(127,"hr",26),t.TgZ(128,"h4",27),t._uU(129,"Permit information"),t.qZA(),t.TgZ(130,"section",25)(131,"div",22)(132,"h6",23),t._uU(133,"Date of issuance of certificate"),t.qZA(),t.TgZ(134,"p",21),t._uU(135),t.qZA()(),t.TgZ(136,"div",22)(137,"h6",23),t._uU(138,"Corpse disposal"),t.qZA(),t.TgZ(139,"p",21),t._uU(140),t.qZA()(),t.TgZ(141,"div",22)(142,"h6",23),t._uU(143,"Permit number"),t.qZA(),t.TgZ(144,"p",21),t._uU(145),t.qZA()(),t.TgZ(146,"div",22)(147,"h6",23),t._uU(148,"Autopsy"),t.qZA(),t.TgZ(149,"p",21),t._uU(150),t.qZA()(),t.TgZ(151,"div",18)(152,"h6",23),t._uU(153,"Place of burial"),t.qZA(),t.TgZ(154,"p",21),t._uU(155),t.qZA()()(),t._UZ(156,"hr",26),t.TgZ(157,"h4",27),t._uU(158,"Other information"),t.qZA(),t.TgZ(159,"section",25)(160,"div",22)(161,"h6",23),t._uU(162,"Book number"),t.qZA(),t.TgZ(163,"p",21),t._uU(164),t.qZA()(),t.TgZ(165,"div",22)(166,"h6",23),t._uU(167,"Page number"),t.qZA(),t.TgZ(168,"p",21),t._uU(169),t.qZA()(),t.TgZ(170,"div",22)(171,"h6",23),t._uU(172,"Registration number"),t.qZA(),t.TgZ(173,"p",21),t._uU(174),t.qZA()(),t.TgZ(175,"div",22)(176,"h6",23),t._uU(177,"Registration date"),t.qZA(),t.TgZ(178,"p",21),t._uU(179),t.qZA()(),t.TgZ(180,"div",28)(181,"h6",23),t._uU(182,"Remarks"),t.qZA(),t.TgZ(183,"p",21),t._uU(184),t.qZA()()(),t._UZ(185,"hr",26),t.TgZ(186,"h4",29),t._uU(187,"Attachments"),t.qZA(),t.TgZ(188,"section",30),t._UZ(189,"attachment-list",31),t.qZA(),t.TgZ(190,"div"),t._UZ(191,"hr",32),t.TgZ(192,"h4",27),t._uU(193,"Generate report"),t.qZA(),t.TgZ(194,"p"),t._uU(195,"Select type of document"),t.qZA(),t.TgZ(196,"div")(197,"select",33),t.NdJ("ngModelChange",function(l){t.CHM(e);const A=t.oxw();return t.KtG(A.reportOption=l)}),t.TgZ(198,"option",34),t._uU(199,"Choose..."),t.qZA(),t.TgZ(200,"option",35),t._uU(201,"CCR Form No. 2A"),t.qZA(),t.TgZ(202,"option",36),t._uU(203,"Municipal Form No. 103A"),t.qZA(),t.TgZ(204,"option",37),t._uU(205,"Municipal Form No. 103"),t.qZA()()(),t.YNc(206,N,3,0,"button",38),t.qZA(),t.YNc(207,P,16,0,"ng-container",39),t.BQk()}if(2&a){const e=t.oxw();t.xp6(9),t.lnq("",e.record.lastName||"\u2014",", ",e.record.firstName||"\u2014"," ",t.lcZ(10,39,e.record.middleName),""),t.xp6(6),t.AsE("",e.record.date," \xb7 ",e.record.time||"\u2014",""),t.xp6(6),t.Oqu(e.record.birthday||"\u2014"),t.xp6(2),t.hij("\xa0(died at age of ",e.record.age+"year/s old"||0,")"),t.xp6(5),t.Oqu(e.record.place||"\u2014"),t.xp6(5),t.Oqu(e.record.civilStatus||"\u2014"),t.xp6(5),t.Oqu(e.record.religion||"\u2014"),t.xp6(5),t.Oqu(e.record.nationality||"\u2014"),t.xp6(5),t.Oqu(e.record.sex||"\u2014"),t.xp6(5),t.Oqu(e.record.address||"\u2014"),t.xp6(5),t.Oqu(e.record.occupation||"\u2014"),t.xp6(5),t.Oqu(e.record.companyNameOrAddress||"\u2014"),t.xp6(8),t.Oqu(e.record.survivingSpouseName||"\u2014"),t.xp6(5),t.Oqu(e.record.survivingSpouseAddress||"\u2014"),t.xp6(9),t.Oqu(e.record.isFetal?"Fetal":"Non fetal"),t.xp6(5),t.Oqu(e.record.primaryCauseOfDeath||"\u2014"),t.xp6(5),t.Oqu(e.record.contributoryCauseOfDeath||"\u2014"),t.xp6(8),t.Oqu(e.record.nonNaturalCauseOfDeath||"\u2014"),t.xp6(5),t.Oqu(e.record.placeOfOccurence||"\u2014"),t.xp6(8),t.Oqu(e.record.medicalAttendantName||"\u2014"),t.xp6(5),t.Oqu(e.record.medicalAttendantTitle||"\u2014"),t.xp6(5),t.Oqu(e.record.medicalAttendantAddress||"\u2014"),t.xp6(9),t.Oqu(e.record.permitCertificateIssuanceDate||"\u2014"),t.xp6(5),t.Oqu(e.record.corpseDisposal||"\u2014"),t.xp6(5),t.Oqu(e.record.permitNumber||"\u2014"),t.xp6(5),t.Oqu(e.record.autopsy||"\u2014"),t.xp6(5),t.Oqu(e.record.burialPlace||"\u2014"),t.xp6(9),t.Oqu(e.record.bookNumber||"\u2014"),t.xp6(5),t.Oqu(e.record.pageNumber||"\u2014"),t.xp6(5),t.Oqu(e.record.registrationNumber||"\u2014"),t.xp6(5),t.Oqu(e.record.registrationDate||"\u2014"),t.xp6(5),t.Oqu(e.record.remarks||"--"),t.xp6(5),t.Q6J("attachments",e.record.attachments),t.xp6(8),t.Q6J("ngModel",e.reportOption),t.xp6(9),t.Q6J("ngIf",e.reportOption),t.xp6(1),t.Q6J("ngIf",e.deathAdmin)}}function L(a,m){1&a&&t._uU(0,"Loading...")}const R=[{path:"",component:(()=>{class a{constructor(e,r,l,A,x,y,O,d){this.sqlService=e,this.toast=r,this.activatedRoute=l,this.loading=A,this.modalService=x,this.router=y,this.authService=O,this.viewDeathPageNav=d,this.deathAdmin=!1,this.reportOption="",this.skipLocationChange=u.N.production}ngOnInit(){this.initializeCurrentUser(),this.initializeRecord()}initializeCurrentUser(){var e;return(0,i.mG)(this,void 0,void 0,function*(){try{const r=yield this.authService.getCurrentUserSnapshot();if(null===r)throw{code:"unauthenticated",message:"User is not currently logged in"};const l=null!==(e=r.roles)&&void 0!==e?e:[];this.deathAdmin=l.includes("admin")||l.includes("death-admin")}catch(r){console.error(r)}})}initializeRecord(){var e,r,l,A,x,y;return(0,i.mG)(this,void 0,void 0,function*(){try{const O=this.activatedRoute.snapshot.params.id,d=yield this.sqlService.table("death").row(O).get(),k=d.attachments.filter(Y=>Y);this.record=Object.assign(Object.assign({},d),{isFetal:"1"===d.isFetal,attachments:k,suffix:null!==(e=o.$.getDisplayValue(o.$.suffixOptions,d.suffix))&&void 0!==e?e:d.suffix,sex:null!==(r=o.$.getDisplayValue(o.$.sexOptions,d.sex))&&void 0!==r?r:d.sex,civilStatus:null!==(l=o.$.getDisplayValue(o.$.civilStatusOptions,d.civilStatus))&&void 0!==l?l:d.civilStatus,medicalAttendantTitle:null!==(A=o.$.getDisplayValue(o.$.deathMedicalAttendantTitleOptions,d.medicalAttendantTitle))&&void 0!==A?A:d.medicalAttendantTitle,corpseDisposal:null!==(x=o.$.getDisplayValue(o.$.corpseDisposalOptions,d.corpseDisposal))&&void 0!==x?x:d.corpseDisposal,autopsy:null!==(y=o.$.getDisplayValue(o.$.autopsyOptions,d.autopsy))&&void 0!==y?y:d.autopsy})}catch(O){this.toast.presentError(O)}})}openModal(e){this.confirmDeleteModal=this.modalService.show(e,{class:"modal-sm"})}deleteRecord(){return(0,i.mG)(this,void 0,void 0,function*(){this.confirmDeleteModal&&this.confirmDeleteModal.hide();const e=this.loading.create();try{const r=this.activatedRoute.snapshot.params.id;yield this.sqlService.table("death").row(r).delete(),yield this.router.navigate(["../"],{relativeTo:this.activatedRoute}),e.hide()}catch(r){yield e.hide(),this.toast.presentError(r)}})}generateReport(){return(0,i.mG)(this,void 0,void 0,function*(){try{if(!this.record)return;if(null===(yield this.authService.getCurrentUserSnapshot()))throw{code:"unauthenticated",message:"User is not currently logged in"};switch(this.reportOption){case"CCR Form No. 2A":this.router.navigate(["generate-ccr-form-no-2a"],{relativeTo:this.activatedRoute,skipLocationChange:u.N.production});break;case"Municipal Form No. 103A":this.viewDeathPageNav.navigateBack(["generate-municipal-form-no-103-a"],{relativeTo:this.activatedRoute,skipLocationChange:u.N.production});break;case"Municipal Form No. 103":this.viewDeathPageNav.navigateBack(["generate-municipal-form-no-103"],{relativeTo:this.activatedRoute,skipLocationChange:u.N.production});break;default:this.toast.present(`${this.reportOption} is not supported`)}}catch(e){console.error(e)}})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(D.a),t.Y36(_.k),t.Y36(p.gz),t.Y36(T.b),t.Y36(v.tT),t.Y36(p.F0),t.Y36(Z.e),t.Y36(h.SH))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-view-death"]],decls:19,vars:6,consts:[[1,"bg-light","border-bottom"],[1,"wrapper","px-xl-5","px-4"],[1,"d-flex","align-items-center","px-xl-5","pt-5"],[1,"mb-0","me-auto","text-dark","fs-2-large","text-primary","text-decoration-none","lh-1"],[4,"ngIf","ngIfElse"],["headerLoadingState",""],["type","button","class","btn btn-sm btn-default d-flex align-items-center text-decoration-none px-4 py-2 rounded-3 fs-5 pe-0","routerLink","edit",3,"skipLocationChange",4,"ngIf"],[1,"px-xl-5","pt-3","pb-3","d-flex","justify-content-between","align-items-start"],["type","button","routerLink","../",1,"btn","btn-sm","btn-link","d-flex","align-items-center","text-decoration-none","text-info","ps-0",3,"skipLocationChange"],[1,"material-icons","fs-3","me-2"],[1,"fs-5"],[1,"px-xl-5","pb-5"],[1,"px-xl-5","pb-5","px-4","sd-section"],["loadingState",""],[1,"fs-2-large","text-primary","fw-bold"],["type","button","routerLink","edit",1,"btn","btn-sm","btn-default","d-flex","align-items-center","text-decoration-none","px-4","py-2","rounded-3","fs-5","pe-0",3,"skipLocationChange"],[1,"material-icons","fs-3","ms-2"],[1,"row","mt-5","g-3"],[1,"col-12"],[1,"mb-0","d-flex","align-items-center","gap-3"],[1,"mt-0","mb-0","opacity-50","fs-4-small"],[1,"mb-0","opacity-75"],[1,"col-6"],[1,"mb-0"],[1,"mt-5","fw-semibold","mb-4","fs-5-large"],[1,"row","g-3"],[1,"mt-5","mb-5"],[1,"fw-semibold","mb-4"],[1,"col-12","mt-5"],[1,"fw-semibold","mb-5"],[1,"g-3"],[3,"attachments"],[1,"mt-5","mb-4"],[1,"form-select",3,"ngModel","ngModelChange"],["value","","selected","","disabled",""],["value","CCR Form No. 2A"],["value","Municipal Form No. 103A"],["value","Municipal Form No. 103"],["type","button","class","mt-3 btn btn-info btn-sm d-flex align-items-center text-decoration-none px-4 py-2 rounded-3 fs-5",3,"click",4,"ngIf"],[4,"ngIf"],["type","button",1,"mt-3","btn","btn-info","btn-sm","d-flex","align-items-center","text-decoration-none","px-4","py-2","rounded-3","fs-5",3,"click"],[1,"text-light","fw-semibold"],["role","button","aria-current","true",1,"list-group-item","list-group-item-action","d-flex","gap-3","py-3"],[1,"d-flex","gap-2","w-100","justify-content-between"],["type","button",1,"mt-3","btn","btn-sm","btn-light","border","d-flex","align-items-center","text-decoration-none","px-4","py-2","rounded-3","fs-5",3,"click"],[1,"text-danger","fw-semibold"],["template",""],[1,"modal-body","text-center","rounded-4"],[1,"d-flex"],["type","button",1,"flex-grow-1","btn","btn-default",3,"click"]],template:function(e,r){if(1&e&&(t.TgZ(0,"header",0)(1,"div",1)(2,"section",2)(3,"a",3),t.YNc(4,b,6,6,"ng-container",4),t.YNc(5,I,2,0,"ng-template",null,5,t.W1O),t.qZA(),t.YNc(7,E,5,1,"button",6),t.qZA(),t.TgZ(8,"section",7)(9,"button",8)(10,"span",9),t._uU(11,"arrow_back"),t.qZA(),t.TgZ(12,"span",10),t._uU(13,"Back"),t.qZA()()()()(),t.TgZ(14,"main",11)(15,"main",12),t.YNc(16,C,208,41,"ng-container",4),t.qZA()(),t.YNc(17,L,1,0,"ng-template",null,13,t.W1O)),2&e){const l=t.MAs(6),A=t.MAs(18);t.xp6(4),t.Q6J("ngIf",r.record)("ngIfElse",l),t.xp6(3),t.Q6J("ngIf",r.deathAdmin),t.xp6(2),t.Q6J("skipLocationChange",r.skipLocationChange),t.xp6(7),t.Q6J("ngIf",r.record)("ngIfElse",A)}},dependencies:[c.O5,s.YN,s.Kr,s.EJ,s.JJ,s.On,h.YI,p.rH,g.c,U.V],styles:[".form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{min-height:48px;border-radius:8px!important;max-width:300px}select[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content}"]}),a})()}];let w=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[p.Bz.forChild(R),p.Bz]}),a})();var S=n(5503),F=n(8398);let V=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[c.ez,s.u5,h.Pc,w,S.D,F.q]}),a})()},5031:(q,f,n)=>{n.d(f,{I:()=>o});var c=n(655),s=n(9808),h=n(3905),p=n(2340),i=n(4893),u=n(520);let o=(()=>{class t{constructor(_,T){var v,Z;this.baseHref=_,this._http=T,this.hostname=null!==(v=p.N.hostname)&&void 0!==v?v:location.hostname,this.pathname=null!==(Z=p.N.ci.pathname)&&void 0!==Z?Z:this.baseHref+"api/"}uploadFile(_,T,v="birth"){return(0,c.mG)(this,void 0,void 0,function*(){if(!_)return;const Z=`${Date.now().toString(32)}_${Math.random().toString(16)}`.replace(/\./g,""),g=`${v}-u${T||"0"}-${Z}.pdf`,U=new FormData;U.append("file",_,g);const I=this._http.post(`http://${this.hostname}${this.pathname}/file`,U);return(yield(0,h.z)(I)).data.upload_data.file_name})}downloadFile(_,T,v){return(0,c.mG)(this,void 0,void 0,function*(){const Z=this._http.get(`http://${this.hostname}${this.pathname}file/${_}`,{responseType:"blob"}),g=yield(0,h.z)(Z),U=new Blob([g],{type:g.type});this.cheatDownload(`Attachment ${T}`,U,v)})}cheatDownload(_,T,v){let Z=window.URL.createObjectURL(T),g=document.createElement("a");document.body.appendChild(g),g.setAttribute("style","display: none"),g.href=Z,v?g.target="_blank":g.download=_,g.click(),window.URL.revokeObjectURL(Z),g.remove()}}return t.\u0275fac=function(_){return new(_||t)(i.LFG(s.mr),i.LFG(u.eN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},5219:(q,f,n)=>{n.d(f,{b:()=>p});var c=n(4893);let s=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-loading"]],decls:2,vars:0,consts:[[1,"p-3","loading-dots"]],template:function(o,t){1&o&&(c.TgZ(0,"div",0),c._uU(1,"Please wait"),c.qZA())}}),i})();var h=n(3500);let p=(()=>{class i{constructor(o){this.modalService=o}create(){const o=this.modalService.show(s,{class:"modal-sm",backdrop:"static",keyboard:!1,animated:!1});return Object.assign(Object.assign({},o),{hide:()=>new Promise(t=>{setTimeout(()=>{o.hide(),t()},300)})})}}return i.\u0275fac=function(o){return new(o||i)(c.LFG(h.tT))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()}}]);